{"version":3,"sources":["./src/app/pages/edit-message-food-drink-menu/edit-message-food-drink-menu.page.ts","./src/app/pages/edit-message-food-drink-menu/edit-message-food-drink-menu.page.scss","./src/app/pages/edit-message-food-drink-menu/edit-message-food-drink-menu-routing.module.ts","./src/app/pages/edit-message-food-drink-menu/edit-message-food-drink-menu.page.html","./src/app/pages/edit-message-food-drink-menu/edit-message-food-drink-menu.module.ts"],"names":[],"mappings":"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","file":"pages-edit-message-food-drink-menu-edit-message-food-drink-menu-module-es2015.js","sourcesContent":["import { Message } from 'src/app/objects/message.model';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AlertController, LoadingController, ToastController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { MessageService } from 'src/app/services/message.service';\nimport { Additional, FoodDrinkCategory, FoodDrinkFood, FoodDrinkImage, FoodDrinkMenu } from 'src/app/objects/food-drink-menu.model';\nimport { Location } from '@angular/common';\nimport { ItemReorderEventDetail } from '@ionic/core';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'app-edit-message-food-drink-menu',\n  templateUrl: './edit-message-food-drink-menu.page.html',\n  styleUrls: ['./edit-message-food-drink-menu.page.scss'],\n})\nexport class EditMessageFoodDrinkMenuPage implements OnInit {\n\n  cid: any;\n  mid: any;\n  message: Message = new Message();\n  foodDrinkMenu: FoodDrinkMenu = new FoodDrinkMenu();\n  showedElement:string = 'cat_list';\n  edited_food_drink_category: FoodDrinkCategory;\n  edited_food: FoodDrinkFood;\n  imgInputElm: HTMLInputElement;\n  isNew:boolean=true;\n  description_length = 300;\n  showAddCategoriButtonForFirstInput: boolean = false; // yeni menüde  Kategori Ekle düğmesi kaydedildikten sonra görünmesi için\n\n  constructor(public route: ActivatedRoute,\n              private alertController:AlertController,\n              public location:Location,\n              private loadingController:LoadingController,\n              public authService:AuthService,\n              private toastController:ToastController,\n              private messageService:MessageService,\n              ) { }\n\n  ngOnInit() {\n    this.cid  = this.route.snapshot.paramMap.get('cid');\n    this.mid  = this.route.snapshot.paramMap.get('mid');\n    this.getMessage()\n  }\n\n  getMessage(){\n    if(this.mid){\n      this.messageService.getMessageById(this.cid,this.mid).ref.get().then((snapshot)=>{\n        this.message = <Message>snapshot.data() \n        this.foodDrinkMenu = this.message.food_drink_menu; \n        this.showAddCategoriButtonForFirstInput = snapshot.data.length ?true:false ;\n      })\n    }\n  }\n\n  listFoods(cat:FoodDrinkCategory){  \n    this.edited_food_drink_category   = cat;\n    this.showedElement                = \"list_foods\"\n    this.isNew = false\n  }\n\n  addCategori(){\n    let cat                        = new FoodDrinkCategory()\n    cat.id                         = Math.random().toString(36).substring(7); \n    this.edited_food_drink_category  = cat;\n    this.showedElement             = \"edit_cat\"   \n    this.isNew = true ;\n  }\n\n  async deleteCategory(cat:FoodDrinkCategory){\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class', \n      message: 'Kategori alıcı olarak silinecek ! ',\n      buttons: [\n        {\n          text: 'Vazgeç',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, \n        {\n          text: 'Sil',\n          handler: async () => {  \n            this.foodDrinkMenu.categories.forEach(async (v,i)=>{\n              if(v.id == cat.id){\n                cat.foods.forEach((d,i)=>{\n                  this.deleteFood(d)\n                })\n                this.foodDrinkMenu.categories.splice(i, 1); \n              }\n            })\n          }\n        }\n      ]\n    });\n    await alert.present();    \n  }\n\n  editCategory(cat:FoodDrinkCategory){\n    this.edited_food_drink_category = cat;\n    this.showedElement            = \"edit_cat\"\n    this.isNew = false ;\n  }\n\n  deleteFood(page:FoodDrinkFood){ \n    this.edited_food_drink_category.foods.forEach((v,i)=>{\n      if(v.id==page.id){\n        this.edited_food_drink_category.foods.splice(i, 1);\n      }\n    }) \n  }\n\n  editFood(food:FoodDrinkFood){\n    this.edited_food        = food;\n    this.showedElement      = \"edit_food\"; \n    this.isNew = false ;\n  }\n\n  addFood(){ \n    let food                        = new FoodDrinkFood();\n    food.images                     = [];\n    food.id                         = Math.random().toString(36).substring(7);\n    food.cid                        = this.edited_food_drink_category.id; \n    this.edited_food                = food;\n    this.showedElement              = \"edit_food\";\n    this.isNew = true ;\n  }\n\n  removeImage(img:FoodDrinkImage){\n    this.edited_food.images.forEach((v,i)=>{\n      if(v.File==img.File){\n        this.edited_food.images.splice(i, 1);\n      }\n    })\n  }\n\n  addImage(){\n    let BU = this; \n    let changeHandler =function (event:any){\n      try{\n       for(let file of event.target.files) {          \n          const reader    = new FileReader();\n          reader.readAsDataURL(file);\n          reader.onload   = (revent) => {\n            const img   = new Image()\n            img.onload  = function(oimg){\n              let resizeCanvas    = document.createElement(\"canvas\");\n              var ctx             = resizeCanvas.getContext(\"2d\");\n              resizeCanvas.width  = 512;\n              resizeCanvas.height = img.height*(512/img.width);\n              ctx.drawImage(img, 0, 0, resizeCanvas.width, resizeCanvas.height); \n              const base64data  = resizeCanvas.toDataURL('image/jpeg', 0.8);\n              const foodImage   = new FoodDrinkImage();\n              foodImage.id      = Math.random().toString(36).substring(20);\n              foodImage.base64data     = base64data;\n              foodImage.File    = file;\n              BU.edited_food.images.push(foodImage)\n            }\n            img.src = <string>revent.target.result\n          };\n          reader.onerror  = error => {\n            console.error(\"Resim base64 yapılamadı \" + error)\n          };\n        }        \n      }catch(err){\n        console.error(\"Resim alınırken hata oldu \" + err)\n      }\n    }\n    setTimeout(()=>{\n      this.imgInputElm       = document.createElement('input');\n      this.imgInputElm.type  = \"file\";\n      this.imgInputElm.setAttribute(\"multiple\",\"true\");\n      this.imgInputElm.setAttribute(\"accept\",\"image/*\"); \n      this.imgInputElm.addEventListener('change',changeHandler);\n      this.imgInputElm.click();\n    },1)\n  }\n\n  async save(){ \n    const loading     = await this.loadingController.create({ \n      message: 'Please wait...',\n      duration: 10000\n    }); \n    await loading.present();    \n    this.message.food_drink_menu      = this.foodDrinkMenu\n    this.message.type                 = 'food_drink_menu';\n    this.message.uid                  = this.authService.USER.uid;\n    \n    if(!this.mid){\n      this.message.created_at         = firebase.firestore.FieldValue.serverTimestamp();\n    }else{\n      this.message.id                 = this.mid;\n    }\n     \n    this.messageService.saveFoodDrinkMenu(this.message,this.cid).then(async (res)=>{   \n      if(res) {\n        this.mid = res.id\n      }\n      const toast = await this.toastController.create({\n        color: 'success',\n        message: \"Kayıt işlemi tamamlandı\",\n        duration: 3000\n      });\n      toast.present();\n      await loading.dismiss();  \n      this.showAddCategoriButtonForFirstInput = true;\n    })\n  }\n\n  doReorderCat(ev: CustomEvent<ItemReorderEventDetail>){ \n    ev.detail.complete(true) \n    this.foodDrinkMenu.categories.splice(ev.detail.to, 0, this.foodDrinkMenu.categories.splice(ev.detail.from, 1)[0]);\n  }\n  \n  doReorderFoods(ev: CustomEvent<ItemReorderEventDetail>){\n    ev.detail.complete(true)\n    this.edited_food_drink_category.foods.splice(ev.detail.to, 0, this.edited_food_drink_category.foods.splice(ev.detail.from, 1)[0]);\n  }\n\n  showFoodList(){\n    this.showedElement='list_foods';\n    if(this.edited_food.title?.trim() != '' && this.edited_food.title !== undefined && this.isNew){\n      this.edited_food_drink_category.foods.push(this.edited_food) \n    }\n    this.isNew = false;\n  }\n\n  showCategoryList(){ \n    this.showedElement  = 'cat_list'  \n    if(this.edited_food_drink_category.title?.trim() != '' && this.edited_food_drink_category.title !== undefined && this.isNew){\n      this.foodDrinkMenu.categories.push(this.edited_food_drink_category) \n    }\n    this.isNew = false;\n  }\n\n  back(){\n    this.location.back();\n  }\n\n  additional(){ \n    const addtnls = new Additional()  \n    this.edited_food.additionals.push(addtnls)\n  }\n\n}","export default \"/*\\nion-thumbnail{\\n    display: block;\\n    float: left;\\n    padding: 7px;\\n    width: 100%;\\n    height: auto;\\n    border: 1px solid #ccc;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n*/\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2VkaXQtbWVzc2FnZS1mb29kLWRyaW5rLW1lbnUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztDQUFBIiwiZmlsZSI6ImVkaXQtbWVzc2FnZS1mb29kLWRyaW5rLW1lbnUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbmlvbi10aHVtYm5haWx7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgcGFkZGluZzogN3B4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogYXV0bztcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbn1cbiovIl19 */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditMessageFoodDrinkMenuPage } from './edit-message-food-drink-menu.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditMessageFoodDrinkMenuPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditMessageFoodDrinkMenuPageRoutingModule {}\n","export default \"<ion-toolbar>  \\n  <ion-tabs>\\n    <ion-tab-bar slot=\\\"top\\\">\\n      <ion-buttons  (click)=\\\"back()\\\" *ngIf=\\\"showedElement == 'cat_list'\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-buttons>\\n      <ion-buttons  (click)=\\\"showCategoryList()\\\" *ngIf=\\\"showedElement == 'edit_cat'\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-buttons> \\n      <ion-buttons  (click)=\\\"showCategoryList()\\\" *ngIf=\\\"showedElement == 'list_foods'\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-buttons>\\n      <ion-buttons  (click)=\\\"showFoodList()\\\" *ngIf=\\\"showedElement == 'edit_food'\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-buttons>\\n      <ion-title *ngIf=\\\"showedElement == 'edit_food'\\\" >Yemek Düzenle</ion-title>\\n      <ion-title *ngIf=\\\"showedElement == 'list_foods'\\\" >Yemek Listesi</ion-title>\\n      <ion-title *ngIf=\\\"showedElement == 'edit_cat'\\\" >Kategori Düzenle</ion-title>\\n      <ion-title *ngIf=\\\"showedElement == 'cat_list'\\\" >Menü Düzenle</ion-title>\\n    </ion-tab-bar>\\n  </ion-tabs>\\n</ion-toolbar>\\n\\n\\n<ion-content>\\n\\n  <!-- //////////////////////////     MENU ADI    ///////////////////////////   -->\\n  <section *ngIf=\\\"showedElement == 'cat_list'\\\" > \\n    <ion-grid style=\\\"margin: 10px;padding: 10px;\\\">\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label color=\\\"dark\\\">Menü Başığı</ion-label>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input type=\\\"text\\\" placeholder=\\\"Menü Başlığı\\\" [(ngModel)]='foodDrinkMenu.title'></ion-input>\\n        </ion-col>\\n      </ion-row> \\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label  color=\\\"dark\\\">Alt Başlık</ion-label>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input type=\\\"text\\\" placeholder=\\\"Menü Başlık\\\" [(ngModel)]='foodDrinkMenu.subtitle' ></ion-input>\\n        </ion-col>\\n      </ion-row> \\n    </ion-grid>\\n  </section>\\n\\n\\n  <!-- //////////////////////////  SHOW CATEGORY LİST ///////////////////////////// --> \\n  <div *ngIf=\\\"showedElement == 'cat_list' && foodDrinkMenu.categories.length\\\" style=\\\"margin-top: 50px;\\\" >\\n    <ion-header class=\\\"ion-no-border\\\">\\n      <ion-toolbar>\\n        <ion-title>İçece ve Yiyecek Kategorileri</ion-title>\\n      </ion-toolbar>\\n    </ion-header>\\n    <!-- sıradaki kategori-->\\n    <ion-reorder-group (ionItemReorder)=\\\"doReorderCat($event)\\\" disabled=\\\"false\\\"> \\n      <ion-item-sliding *ngFor=\\\"let categori of foodDrinkMenu.categories\\\">\\n        <ion-card> \\n          <ion-card-content>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-label>{{categori.title}}</ion-label>\\n              <ion-reorder slot=\\\"end\\\" ></ion-reorder>\\n            </ion-item> \\n          </ion-card-content>\\n          <ion-row>\\n            <ion-col size=\\\"2\\\"> \\n            </ion-col>\\n            <ion-col size=\\\"4\\\" (click)=\\\"deleteCategory(categori)\\\">\\n              <ion-icon   name=\\\"trash-outline\\\"></ion-icon> \\n            </ion-col>\\n            <ion-col size=\\\"4\\\" (click)=\\\"editCategory(categori)\\\">\\n              <ion-icon   name=\\\"create-outline\\\"></ion-icon> \\n            </ion-col>\\n            <ion-col size=\\\"2\\\"  (click)=\\\"listFoods(categori)\\\">\\n              <ion-icon   name=\\\"fast-food-outline\\\"></ion-icon> \\n            </ion-col>\\n            \\n          </ion-row>\\n        </ion-card>\\n      </ion-item-sliding>\\n    </ion-reorder-group><!-- sıradaki kategori END-->  \\n  </div>\\n\\n  <ion-button (click)=\\\"addCategori()\\\"  fill=\\\"clear\\\" size=\\\"small\\\" expand=\\\"full\\\" \\n              *ngIf=\\\"(foodDrinkMenu.categories.length || showAddCategoriButtonForFirstInput) && showedElement == 'cat_list'\\\"> \\n              Kategori Ekle\\n  </ion-button> \\n  \\n\\n  <!-- //////////////////////////  EDİT CATEGORY ///////////////////////////// -->\\n  <section *ngIf=\\\"showedElement == 'edit_cat'\\\" style=\\\"margin-top: 50px;\\\">\\n    <ion-grid fixed> \\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label >Kategori Başlığı</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input type=\\\"text\\\" [(ngModel)]=\\\"edited_food_drink_category.title\\\" placeholder=\\\"Kategori Adı Yazın\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n           <div style=\\\"height:20px ;\\\"> </div>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label >Kategori Alt Başlığı</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input type=\\\"text\\\" [(ngModel)]=\\\"edited_food_drink_category.subtitle\\\"  placeholder=\\\"Alt Başlık Yazın\\\"></ion-input>\\n        </ion-col>\\n      </ion-row> \\n\\n    </ion-grid>\\n  </section> \\n\\n\\n  <!-- //////////////////////////  LIST FOODS ///////////////////////////// -->\\n  <div *ngIf=\\\"showedElement == 'list_foods'\\\">\\n    <ion-item  lines=\\\"none\\\">\\n      <h3>{{edited_food_drink_category.title}}</h3>\\n    </ion-item>\\n    <ion-card>  \\n      <ion-card-content *ngIf=\\\"!edited_food_drink_category.foods.length\\\">\\n        Bu kategoride hiç yemek yok.\\n      </ion-card-content>\\n      <ion-reorder-group (ionItemReorder)=\\\"doReorderFoods($event)\\\" disabled=\\\"false\\\"> \\n        <ion-item-sliding *ngFor=\\\"let food of edited_food_drink_category.foods\\\">\\n          <ion-item (click)=\\\"editFood(food)\\\" lines=\\\"none\\\">\\n            <ion-label>{{food.title}}</ion-label>\\n            <ion-reorder slot=\\\"end\\\"></ion-reorder>  \\n          </ion-item>\\n          <ion-item-options side=\\\"start\\\">\\n            <ion-item-option color=\\\"danger\\\" (click)=\\\"deleteFood(food)\\\">Delete</ion-item-option> \\n          </ion-item-options>\\n          <ion-item-options side=\\\"end\\\">\\n            <ion-item-option color=\\\"secondary\\\" (click)=\\\"editFood(food)\\\">Edit</ion-item-option> \\n          </ion-item-options>\\n        </ion-item-sliding> \\n      </ion-reorder-group>\\n    </ion-card>\\n    <ion-button (click)=\\\"addFood()\\\"  fill=\\\"clear\\\" expand=\\\"full\\\" size=\\\"small\\\"> \\n      Yemek Ekle\\n    </ion-button> \\n  </div>\\n\\n\\n  <!-- //////////////////////////  EDİT FOODS ///////////////////////////// -->\\n  <div *ngIf=\\\"showedElement == 'edit_food'\\\"> \\n\\n    <ion-grid fixed>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label >Yemek Başlığı</ion-label>\\n        </ion-col> \\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input type=\\\"text\\\"  [(ngModel)]=\\\"edited_food.title\\\"></ion-input>\\n        </ion-col> \\n      </ion-row>  \\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label >Yemek Alt Başlığı</ion-label>\\n        </ion-col>\\n      </ion-row> \\n      <ion-row>\\n        <ion-col size=\\\"12\\\"> \\n          <ion-input type=\\\"text\\\"  [(ngModel)]=\\\"edited_food.subtitle\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label >Açıklama {{ (description_length - edited_food.description?.length) }} karakter</ion-label>\\n        </ion-col>\\n      </ion-row> \\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-textarea rows=\\\"10\\\"  [(ngModel)]=\\\"edited_food.description\\\" maxlength=\\\"{{description_length}}\\\"></ion-textarea>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\"> \\n          <ion-label >Fiyat</ion-label>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\"> \\n          <ion-input type=\\\"number\\\" [(ngModel)]=\\\"edited_food.price\\\"></ion-input>\\n        </ion-col>\\n      </ion-row> \\n    </ion-grid>\\n \\n    <!--   İLAVELER   ---> \\n    <ion-grid fixed *ngIf=\\\"edited_food.additionals?.length\\\">\\n      <ion-item lines=\\\"none\\\">\\n        <h2 lines=\\\"none\\\">İlaveler</h2>\\n      </ion-item>\\n      <section *ngFor=\\\"let additional of edited_food.additionals\\\"> \\n        <ion-row >\\n          <ion-col size=\\\"12\\\">  \\n              <ion-label >Ürün adı</ion-label> \\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\"> \\n            <ion-input type=\\\"text\\\" [(ngModel)]=\\\"additional.name\\\" ></ion-input>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-label >Fiyat</ion-label>\\n          </ion-col>\\n        </ion-row> \\n        <ion-row> \\n          <ion-input type=\\\"number\\\" [(ngModel)]=\\\"additional.price\\\"></ion-input>\\n        </ion-row>\\n        <div style=\\\"height: 30px;\\\"></div>\\n      </section>\\n    </ion-grid> \\n    <!-- ------------------  resimve ilave ekleme düğmeleri -->\\n    <ion-item lines=\\\"none\\\">\\n      <ion-button  (click)=\\\"additional()\\\" fill=\\\"clear\\\" expand=\\\"full\\\" size=\\\"small\\\">  \\n        İlave Ekle\\n      </ion-button> \\n      <ion-button (click)=\\\"addImage()\\\" fill=\\\"clear\\\" expand=\\\"full\\\"  size=\\\"small\\\">  \\n        Resim Ekle\\n      </ion-button> \\n    </ion-item> \\n\\n    <!--   RESİMLER   ---> \\n    <ion-card *ngFor=\\\"let img of edited_food.images\\\"> \\n      <ion-card-content>   \\n          <img *ngIf=\\\"img.base64data\\\" src=\\\"{{img.base64data}}\\\" />\\n          <img *ngIf=\\\"img.url\\\" src=\\\"{{img.url}}\\\" />         \\n        <ion-button (click)=\\\"removeImage(img)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\n          Delete\\n        </ion-button>\\n      </ion-card-content> \\n    </ion-card>\\n  </div> <!-- //////////////////////////  EDİT FOODS END-->\\n \\n</ion-content>\\n\\n\\n\\n\\n<!--             Yemeği kaydet düğmesi                --> \\n<ion-button (click)=\\\"showFoodList()\\\"  expand=\\\"full\\\" color=\\\"secondary\\\" *ngIf=\\\"showedElement == 'edit_food'\\\">\\n  Tamam\\n</ion-button> \\n\\n<!--             kategoriyi kaydet düğmesi                --> \\n<ion-button (click)=\\\"showCategoryList()\\\" expand=\\\"full\\\" color=\\\"secondary\\\" *ngIf=\\\"showedElement == 'edit_cat'\\\">\\n  Tamam\\n</ion-button>\\n\\n<!--              menüyü kaydet düğmesi           -->\\n<ion-button *ngIf=\\\"showedElement=='cat_list'\\\" (click)=\\\"save()\\\"  expand=\\\"full\\\" color=\\\"secondary\\\">\\n  Menüyü Kaydet\\n</ion-button>\\n\\n\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditMessageFoodDrinkMenuPageRoutingModule } from './edit-message-food-drink-menu-routing.module';\n\nimport { EditMessageFoodDrinkMenuPage } from './edit-message-food-drink-menu.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EditMessageFoodDrinkMenuPageRoutingModule\n  ],\n  declarations: [EditMessageFoodDrinkMenuPage]\n})\nexport class EditMessageFoodDrinkMenuPageModule {}\n"],"sourceRoot":"webpack:///"}