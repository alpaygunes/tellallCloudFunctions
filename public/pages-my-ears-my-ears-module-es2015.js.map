{"version":3,"sources":["./src/app/pages/my-ears/my-ears.page.ts","./src/app/pages/my-ears/my-ears.page.html","./src/app/pages/my-ears/my-ears.page.scss","./src/app/pages/my-ears/my-ears-routing.module.ts","./src/app/pages/my-ears/my-ears.module.ts"],"names":[],"mappings":"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","file":"pages-my-ears-my-ears-module-es2015.js","sourcesContent":["import { Component,  OnInit } from '@angular/core';\nimport { Channel } from 'src/app/objects/channel.model';\nimport { AuthService } from 'src/app/services/auth.service'; \nimport { UserService } from 'src/app/services/user.service'; \nimport { Location } from '@angular/common';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-my-ears',\n  templateUrl: './my-ears.page.html',\n  styleUrls: ['./my-ears.page.scss'],\n})\nexport class MyEarsPage implements OnInit {\n  ears:Channel[] = [];\n  channel_not_found: boolean  = false;  \n  layout = 'phone-landscape-outline'\n\n  constructor(private userService:UserService,\n              private toastController:ToastController,\n              public authService:AuthService,\n              public location:Location,\n              private alertController:AlertController,\n              public router:Router,  \n              private loadingController: LoadingController, \n              ) { }\n              \n  ngOnInit(): void {  }\n\n  async ionViewWillEnter(){\n    await this.getEars()\n  }\n  \n  async getEars(){   \n    if(this.authService.USER === undefined ){\n      console.log(\"this.authService.USER.uid bulunamadı\")\n      this.router.navigate(['/']); \n    }else{\n      const loading = await this.loadingController.create({ \n        message: 'Please wait...',\n        duration: 5000\n      });\n      await loading.present(); \n      this.userService.getUserEars(this.authService.USER.uid).get().subscribe(async snapshot=>{   \n        this.channel_not_found = true;\n        loading.dismiss();\n        if(snapshot.docs.length){ \n          this.channel_not_found = false;\n          this.ears =[];\n          snapshot.docs.map((doc,i)=>{ \n            doc.data()['channelDoc'].get().then((data) => { \n              this.ears.push (<Channel>{id:data.id,subscribe_id:doc.id,veryfied:doc.data()['veryfied'],...data.data()});  \n            })  \n          })\n        }\n      })\n\n      \n    }\n  }\n\n  async unsubscribeFromChannel(channel_id:string,subscribe_id:string){ \n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Onaylıyor musunuz ?',\n      message: 'Aboneliğiniz sonlandırılacak ! ',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Okay',\n          handler: async () => {  \n            const loading = await this.loadingController.create({ \n              message: 'Please wait...',\n              duration: 5000\n            });\n            await loading.present(); \n            this.userService.unsubscribeFromChannel(channel_id,subscribe_id).then(async ()=>{\n              await loading.dismiss();\n              this.ears = this.ears.filter(ear=>{\n                if(ear.id != channel_id){\n                  return ear; \n                }\n              })          \n              const toast = await this.toastController.create({\n                color: 'success',\n                message: \"Aboneliğiniz sonlandırıldı.\",\n                duration: 2000\n              });\n              toast.present();\n            }) \n          }\n        }\n      ]\n    });\n    await alert.present(); \n  }\n\n  qrScan(){\n    this.router.navigate(['/qr-scanner'])\n  }\n\n  back(){\n    this.location.back();\n  }\n\n  showMessages(ear:Channel){\n    const url = '/board-messages/'+ear.id \n    if(ear['veryfied']){\n      this.router.navigate([url])\n    }\n    \n  }\n\n  changeLayout(){\n    this.layout = (this.layout=='image-outline')?'phone-landscape-outline':'image-outline'\n  }\n}\n\n ","export default \"<ion-toolbar > \\n  <ion-tabs>\\n    <ion-tab-bar slot=\\\"top\\\">  \\n      <ion-tab-button (click)=\\\"router.navigate(['home'])\\\"> \\n        <ion-icon name=\\\"home\\\"></ion-icon> \\n      </ion-tab-button>\\n      <ion-title   >Aboneliklerim</ion-title>\\n      <ion-tab-button (click)=\\\"qrScan()\\\">\\n        <ion-icon name=\\\"qr-code\\\"></ion-icon> \\n      </ion-tab-button>\\n    </ion-tab-bar>\\n  </ion-tabs>\\n</ion-toolbar>   \\n \\n\\n<ion-content>\\n  <div *ngFor=\\\"let ear of ears\\\" >\\n    <ion-card >\\n      <ion-card-header (click)=\\\"showMessages(ear)\\\"> \\n        <ion-card-subtitle>{{ear.channel_name}}</ion-card-subtitle>\\n      </ion-card-header>\\n      <img src=\\\"{{ear.logo}}\\\" (click)=\\\"showMessages(ear)\\\" *ngIf=\\\"layout=='phone-landscape-outline'\\\" />  \\n      <ion-card-content> {{ear.description}} </ion-card-content>\\n      <ion-button *ngIf=\\\"ear.veryfied\\\" (click)=\\\"unsubscribeFromChannel(ear.id,ear.subscribe_id)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\"   >\\n        Abonelikten Çık\\n      </ion-button>  \\n      <div *ngIf=\\\"!ear.veryfied\\\">\\n        <ion-button expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">Onay bekleniyor</ion-button> \\n        <ion-button (click)=\\\"unsubscribeFromChannel(ear.id,ear.subscribe_id)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\"  >İsteği İptal Et</ion-button>  \\n      </div>\\n           \\n    </ion-card>\\n  </div>\\n\\n\\n  <!-- NOT FOUND--> \\n  <ion-grid fixed *ngIf=\\\"channel_not_found\\\" style=\\\"margin-top: 100px;\\\">\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" style=\\\"text-align: center;\\\">  \\n       <ion-icon name=\\\"thumbs-up-outline\\\" style=\\\"font-size: 100px;\\\"></ion-icon>\\n      </ion-col>\\n     </ion-row> \\n     <ion-row> \\n      <ion-col size=\\\"12\\\">\\n       <ion-button fill=\\\"clear\\\" expand=\\\"full\\\">\\n        Aboneliğiniz yok\\n       </ion-button>\\n      </ion-col> \\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\"> \\n       <ion-button fill=\\\"clear\\\" expand=\\\"full\\\" routerLink=\\\"/form-ear\\\">\\n         <ion-icon slot=\\\"start\\\" name=\\\"add-circle\\\" ></ion-icon> \\n         Hemen abonelik başlatın\\n       </ion-button> \\n      </ion-col> \\n    </ion-row>\\n  </ion-grid>\\n\\n\\n\\n\\n\\n\\n\\n  <ion-fab vertical=\\\"bottom\\\"   horizontal=\\\"end\\\"  slot=\\\"fixed\\\">\\n    <ion-fab-button routerLink=\\\"/form-ear\\\">\\n      <ion-icon style=\\\"color: white; font-size: 24px;\\\"  name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n</ion-content>\\n\";","export default \"/*\\nion-content{\\n    --background: url('/assets/subscribe.png') 50% 30% no-repeat,url('/assets/bg.png'),beige;  \\n} \\n\\n\\n.ag-tools{\\n    width: 100%;\\n    display: block; \\n}\\n.ag-tools ion-icon{\\n    float: right;\\n    margin: 10px 5px 0 10px;\\n    font-size: 14px;\\n}\\n\\n.not-found-cart { \\n    box-shadow: none;\\n    text-align: center;\\n    position: absolute;\\n    top: 60%;\\n    left: 50%;\\n    transform: translateY(-50%) translateX(-50%); \\n    --background: transparent;\\n    width: 300px;\\n}\\n\\nion-item{ \\n    --background: transparent;\\n}\\n*/\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL215LWVhcnMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FBQSIsImZpbGUiOiJteS1lYXJzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5pb24tY29udGVudHtcbiAgICAtLWJhY2tncm91bmQ6IHVybCgnL2Fzc2V0cy9zdWJzY3JpYmUucG5nJykgNTAlIDMwJSBuby1yZXBlYXQsdXJsKCcvYXNzZXRzL2JnLnBuZycpLGJlaWdlOyAgXG59IFxuXG5cbi5hZy10b29sc3tcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBibG9jazsgXG59XG4uYWctdG9vbHMgaW9uLWljb257XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIG1hcmdpbjogMTBweCA1cHggMCAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLm5vdC1mb3VuZC1jYXJ0IHsgXG4gICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNjAlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgtNTAlKTsgXG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICB3aWR0aDogMzAwcHg7XG59XG5cbmlvbi1pdGVteyBcbiAgICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuKi9cbiAiXX0= */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyEarsPage } from './my-ears.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyEarsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyEarsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { MyEarsPageRoutingModule } from './my-ears-routing.module';\nimport { MyEarsPage } from './my-ears.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MyEarsPageRoutingModule\n  ],\n  declarations: [MyEarsPage], \n})\nexport class MyEarsPageModule {}\n"],"sourceRoot":"webpack:///"}