{"version":3,"sources":["webpack:///src/app/viewer/food-drink-menu/food-drink-menu.page.html","webpack:///src/app/viewer/food-drink-menu/food-drink-menu.page.ts","webpack:///src/app/viewer/food-drink-menu/food-drink-menu.page.scss","webpack:///src/app/viewer/food-drink-menu/food-drink-menu-routing.module.ts","webpack:///src/app/viewer/food-drink-menu/food-drink-menu.module.ts"],"names":["FoodDrinkMenuPage","fs","channelService","toastController","route","actionSheetController","popoverController","location","authService","platform","urlService","cartService","messageService","loadingController","router","foodDrinkMenu","activeCategory","activeCategoryIndex","layout","previousUrl","cartItemCount","create","message","duration","loading","present","cid","snapshot","paramMap","get","mid","previousUrl$","subscribe","backBtnSub","backButton","back","getMessageById","ref","then","menuVisitor","uid","USER","created_at","FieldValue","serverTimestamp","collection","add","data","food_drink_menu","categories","nextCategory","getChannelInfo","channel","dismiss","getCart","valueChanges","length","artim","prevCategory","map","category","i","action_menu","forEach","c","push","text","title","role","handler","icon","header","cssClass","buttons","actionSheet","undefined","unsubscribe","navigate","additional","food","exist","orders","order","quantity","filter","total","orderitem","price","window","localStorage","getItem","createId","setItem","cartItem","addToCart","color","toast","navigationExtras","state","selector","template","routes","path","component","FoodDrinkMenuPageRoutingModule","imports","forChild","exports","FoodDrinkMenuPageModule","declarations"],"mappings":"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","file":"viewer-food-drink-menu-food-drink-menu-module-es5.js","sourcesContent":["export default \"<ion-toolbar>\\n  <ion-tabs>\\n    <ion-tab-bar slot=\\\"top\\\">\\n      <ion-tab-button (click)=\\\"back()\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-tab-button> \\n      <ion-tab-button (click)=\\\"showCutomerOrders()\\\"> \\n        <ion-icon name=\\\"fast-food-outline\\\"></ion-icon>\\n        Siparişlerim\\n      </ion-tab-button>\\n      <ion-tab-button (click)=\\\"checkout()\\\">\\n        <ion-icon name=\\\"cart-outline\\\"></ion-icon>\\n        <ion-badge  color=\\\"danger\\\" mode=\\\"ios\\\">{{cartItemCount}}</ion-badge>\\n        Sepetim\\n      </ion-tab-button>\\n    </ion-tab-bar>\\n  </ion-tabs>\\n</ion-toolbar> \\n\\n\\n<ion-content overflow-scroll=\\\"true\\\"> \\n  <ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar> \\n      <ion-title>{{activeCategory?.title}}</ion-title>  \\n    </ion-toolbar>\\n  </ion-header>\\n \\n  <!-- ///////////////////////////////   PAGE           /////////////////////////// -->\\n  <div  *ngFor=\\\"let food of activeCategory?.foods\\\">\\n    <ion-card> \\n      <ion-card-header> \\n        <ion-card-title  color=\\\"medium\\\">{{food.title}}</ion-card-title>\\n      </ion-card-header>  \\n      <ion-slides pager=\\\"true\\\" [options]=\\\"slideOpts\\\" *ngIf=\\\"layout=='withimage'\\\">\\n        <ion-slide *ngFor=\\\"let img of food.images\\\">\\n          <img src=\\\"{{img.url}}\\\">\\n        </ion-slide> \\n      </ion-slides>\\n\\n      <ion-card-header>  \\n        <ion-card-subtitle>{{food.subtitle}}</ion-card-subtitle> \\n        <ion-badge style=\\\"right: 5px;\\\"  color=\\\"primary\\\">{{getFoodTotal(food) | currencyPipe}}</ion-badge> \\n      </ion-card-header>\\n\\n      <ion-card-content >\\n        <ion-label class=\\\"ion-text-wrap\\\" color=\\\"medium\\\">{{food.description}}</ion-label>\\n      </ion-card-content>\\n\\n      <section *ngIf=\\\"showAdditionals==food\\\" class=\\\"additional-list\\\">\\n        <ion-list> \\n          <div *ngFor=\\\"let additional of food.additionals\\\"> \\n            <ion-row *ngIf=\\\"additional.name\\\"> \\n              <ion-col size=\\\"9\\\">\\n                <ion-label color=\\\"medium\\\"> {{additional.name}} {{additional.price | currencyPipe}}</ion-label>\\n              </ion-col> \\n              <ion-col size=\\\"1\\\">\\n                <ion-icon   name=\\\"remove-circle-outline\\\" (click)=\\\"removeFromFood(additional,food)\\\"></ion-icon>\\n              </ion-col> \\n              <ion-col size=\\\"1\\\">\\n                <ion-input  color=\\\"medium\\\" disabled [(ngModel)]=\\\"additional.quantity\\\" ></ion-input>\\n              </ion-col>\\n              <ion-col size=\\\"1\\\">\\n                <ion-icon   name=\\\"add-circle-outline\\\" (click)=\\\"addToFood(additional,food)\\\"></ion-icon>\\n              </ion-col>\\n            </ion-row> \\n          </div>\\n        </ion-list>\\n      </section>\\n\\n      <ion-row>\\n        <ion-col size=\\\"6\\\"  *ngIf=\\\"food.additionals?.length\\\"> \\n          <ion-button (click)=\\\"showAdditionals=(showAdditionals==food)?null:food\\\" fill=\\\"clear\\\" size=\\\"small\\\">\\n            <ion-icon slot=\\\"start\\\" name=\\\"wine-outline\\\"></ion-icon>\\n            Sos ve İçecek\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"6\\\" > \\n          <ion-button (click)=\\\"addToCart(food)\\\" fill=\\\"clear\\\" size=\\\"small\\\">\\n            <ion-icon slot=\\\"start\\\" name=\\\"cart-outline\\\"></ion-icon>\\n            Sepete Ekle\\n          </ion-button>\\n        </ion-col> \\n      </ion-row>\\n    </ion-card>\\n  </div>\\n \\n</ion-content>\\n\\n\\n\\n\\n\\n\\n<!-- ///////////////////////////////  FOOTER            ////////////////////////// -->\\n<ion-footer>\\n  <ion-toolbar>\\n\\n    <ion-button (click)=\\\"layout='list'\\\" color=\\\"light\\\" *ngIf=\\\"layout=='withimage'\\\" class=\\\"ag-layout-btn\\\" >\\n      <ion-icon slot=\\\"icon-only\\\" color=\\\"medium\\\"  name=\\\"menu-outline\\\" style=\\\"color: white;\\\"></ion-icon>\\n    </ion-button>\\n\\n    <ion-button (click)=\\\"layout='withimage'\\\"   *ngIf=\\\"layout=='list'\\\" class=\\\"ag-layout-btn\\\" >\\n      <ion-icon slot=\\\"icon-only\\\" color=\\\"medium\\\" name=\\\"pizza-outline\\\" style=\\\"color: white;\\\"></ion-icon>\\n    </ion-button>\\n\\n    <ion-button (click)=\\\"changeCategory('-')\\\"  [disabled]=\\\"prevCategory == null\\\" class=\\\"left\\\">\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"chevron-back-outline\\\" style=\\\"color: white;\\\"></ion-icon>\\n    </ion-button>\\n    <ion-button (click)=\\\"openCategoryList()\\\" >\\n      <ion-icon name=\\\"book-outline\\\" style=\\\"font-size: 30px;color: white;\\\"></ion-icon>\\n    </ion-button>\\n    <ion-button (click)=\\\"changeCategory('+')\\\"  [disabled]=\\\"nextCategory == null\\\" class=\\\"right\\\" >\\n      <ion-icon name=\\\"chevron-forward-outline\\\" style=\\\"color: white;\\\"></ion-icon>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-footer>\\n\\n\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\nimport { ActionSheetController, LoadingController, Platform, PopoverController } from '@ionic/angular';\nimport { Additional, FoodDrinkCategory, FoodDrinkFood, FoodDrinkMenu, OrderItem } from 'src/app/objects/food-drink-menu.model';\nimport { Message,MenuVisitor } from 'src/app/objects/message.model';\nimport { MessageService } from 'src/app/services/message.service';\nimport { Location } from '@angular/common';\nimport * as firebase from 'firebase';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { UrlService } from 'src/app/services/url.service';\nimport { CartService } from 'src/app/services/cart.service';\nimport { ToastController } from '@ionic/angular'; \nimport { CartItem } from 'src/app/objects/cart.model';\nimport { Channel } from 'src/app/objects/channel.model';\nimport { ChannelService } from 'src/app/services/channel.service';\nimport { AngularFirestore } from '@angular/fire/firestore';\n\n\n@Component({\n  selector: 'app-food-drink-menu',\n  templateUrl: './food-drink-menu.page.html',\n  styleUrls: ['./food-drink-menu.page.scss'],\n})\nexport class FoodDrinkMenuPage implements OnInit {\n  cid             :string;\n  mid             :string;\n  message         :Message;\n  foodDrinkMenu   :FoodDrinkMenu      = new FoodDrinkMenu(); \n  activeCategory  :FoodDrinkCategory  = new FoodDrinkCategory();\n  activeCategoryIndex:number = 0;\n  nextCategory    :FoodDrinkCategory;\n  prevCategory    :FoodDrinkCategory;\n  layout          :string = 'withimage'\n  backBtnSub      :any;\n  previousUrl     :string = '';\n  showAdditionals :FoodDrinkFood;\n  cartItemCount   :number=0;\n  channel         :Channel;\n  loading         :HTMLIonLoadingElement;\n\n  constructor(\n    private fs:AngularFirestore,\n    private channelService:ChannelService,\n    private toastController:ToastController,\n    public route: ActivatedRoute, \n    private actionSheetController:ActionSheetController,\n    private popoverController: PopoverController,\n    public location:Location,\n    public authService:AuthService,\n    private platform:Platform,\n    private urlService:UrlService,\n    private cartService:CartService,\n    private messageService:MessageService,\n    private loadingController:LoadingController,\n    public router: Router) { \n  }\n\n  async ngOnInit() {  \n    this.loading = await this.loadingController.create({ \n      message: 'Please wait...',\n      duration: 5000\n    }) \n    this.loading.present();\n\n    this.cid  = this.route.snapshot.paramMap.get('cid')\n    this.mid  = this.route.snapshot.paramMap.get('mid')\n\n    this.urlService.previousUrl$.subscribe((previousUrl: string) => {\n      this.previousUrl = previousUrl\n    });\n    this.backBtnSub = this.platform.backButton.subscribe(() => { \n      this.back()\n    });\n\n    this.messageService.getMessageById(this.cid,this.mid).ref.get().then((snapshot)=>{\n      let menuVisitor:MenuVisitor = new MenuVisitor();\n      let uid = 'anonim_visitor';\n      if(this.authService.USER){\n        uid = this.authService.USER.uid\n      }\n      menuVisitor.uid = uid;\n      menuVisitor.created_at = firebase.firestore.FieldValue.serverTimestamp();\n      snapshot.ref.collection('visitors').add({...menuVisitor}) \n      this.message = <Message>snapshot.data()\n      this.foodDrinkMenu = this.message.food_drink_menu;\n      this.activeCategory = this.foodDrinkMenu.categories[0]; \n      if(this.foodDrinkMenu.categories[1]){\n        this.nextCategory = this.foodDrinkMenu.categories[1];\n      } \n    }) \n    await this.channelService.getChannelInfo(this.cid).ref.get().then((channel)=>{\n      this.channel = channel.data()\n    })\n    this.loading.dismiss();\n    \n    \n    this.getCart()\n  }\n\n  getCart(){ \n    this.cartService.getCart(this.cid,this.channel).valueChanges().subscribe(data=>{  \n      this.cartItemCount =data.length; \n    })\n  }\n\n  changeCategory(artim:string){ \n    if(artim == '-'){ \n      this.activeCategory = this.prevCategory;\n    }else{ \n      this.activeCategory = this.nextCategory;\n    }\n\n    this.foodDrinkMenu.categories.map((category,i)=>{\n      if(category == this.activeCategory){\n        if(this.foodDrinkMenu.categories[i+1]){\n          this.nextCategory = this.foodDrinkMenu.categories[i+1]\n        }else{\n          this.nextCategory =null\n        }\n\n        if(this.foodDrinkMenu.categories[i-1]){\n          this.prevCategory = this.foodDrinkMenu.categories[i-1]\n        }else{\n          this.prevCategory =null\n        }\n      }\n    }) \n  }\n\n  async openCategoryList(){\n    let action_menu=[];\n    this.foodDrinkMenu.categories.forEach((c,i)=>{\n      action_menu.push({text:c.title,role:'destructive',handler: () => {\n        this.activeCategory = c;\n        this.foodDrinkMenu.categories.map((category,i)=>{\n          if(category == this.activeCategory){\n            if(this.foodDrinkMenu.categories[i+1]){\n              this.nextCategory = this.foodDrinkMenu.categories[i+1]\n            }else{\n              this.nextCategory =null\n            }\n    \n            if(this.foodDrinkMenu.categories[i-1]){\n              this.prevCategory = this.foodDrinkMenu.categories[i-1]\n            }else{\n              this.prevCategory =null\n            }\n          }\n        })\n      }})\n    })\n\n    action_menu.push({text: 'Menüden Çık',\n      icon: 'close',\n      role: 'destructive', \n      handler: () => {\n          this.back()\n        }\n      })\n\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Kategoriler',\n      cssClass: 'my-custom-class',\n      buttons: action_menu\n    });\n    await actionSheet.present();\n  } \n\n  back(){\n    if(this.previousUrl == undefined || this.previousUrl == null){\n      if(this.backBtnSub){\n        this.backBtnSub.unsubscribe();\n      }\n      this.router.navigate(['home']);\n    }else{\n      this.location.back();\n    }\n  }\n\n  ngOnDestroy(){\n    if(this.backBtnSub){\n      this.backBtnSub.unsubscribe();\n    }\n  }\n\n  addToFood(additional:Additional,food:FoodDrinkFood){  \n    let exist = false;\n    food.orders.map((order,i)=>{\n      if(order.additional == additional){\n        order.additional.quantity++;\n        exist = true;\n      }\n    })\n\n    if(!exist){\n        additional.quantity = 1\n        food.orders.push({additional:additional})\n    } \n  }\n\n  removeFromFood(additional:Additional,food:FoodDrinkFood){\n\n    food.orders = food.orders.filter((order,i)=>{\n      if(order.additional == additional && additional.quantity>1){\n        additional.quantity--;  \n        return order;\n      }else if(order.additional == additional && additional.quantity==1){\n        additional.quantity = 0\n        return \n      }else{\n        return order;\n      }\n    }) \n  }\n\n  getFoodTotal(food:FoodDrinkFood){\n    let total:number        = 0;\n    food.orders.map(orderitem=>{\n        total += orderitem.additional.quantity*orderitem.additional.price\n    })\n    return food.price+total;\n  }\n\n  addToCart(food:FoodDrinkFood){\n    let  uid      = this.authService.USER?.uid;\n    if(!uid){\n      if(window.localStorage.getItem('uid')){\n        uid = window.localStorage.getItem('uid')\n      }else{\n        uid = this.fs.createId();\n        window.localStorage.setItem('uid',uid)\n      }\n    }\n\n    const created_at  = firebase.firestore.FieldValue.serverTimestamp();\n    const cartItem:CartItem        = {uid:uid,created_at:created_at,food:{...food}};\n    this.cartService.addToCart(cartItem,this.cid).then(async ()=>{\n      const toast = await this.toastController.create({\n        color: 'success',\n        message: \"Yemek sepete eklendi\",\n        duration: 3000\n      });\n      toast.present();\n    })\n  }\n  \n  checkout(){ \n    let navigationExtras: NavigationExtras = {\n      state: {\n        cid: this.cid\n      }\n    };\n    this.router.navigate(['cart'],navigationExtras)\n  }\n\n  showCutomerOrders(){\n    let  uid  = this.authService.USER?.uid;\n    if(!uid){\n      if(window.localStorage.getItem('uid')){\n        uid   = window.localStorage.getItem('uid')\n      }else{\n        uid   = this.fs.createId();\n        window.localStorage.setItem('uid',uid)\n      }\n    }\n    let navigationExtras: NavigationExtras = {\n      state: {\n        uid: uid,\n        cid: this.cid\n      }\n    };\n    this.router.navigate(['customer-orders'],navigationExtras) \n  }\n\n}","export default \"/*\\nion-footer ion-toolbar{\\n    //--background: white;\\n    text-align: center;\\n}\\n\\nion-footer ion-toolbar ion-button{\\n    --border-radius: 50px;\\n    width: 64px;\\n    height: 64px;\\n    --padding-bottom: 0px;\\n    --padding-end: 0;\\n    --padding-start: 0;\\n    --padding-top: 0; \\n}\\n\\nion-footer ion-toolbar ion-button.left{ \\n    width: 38px;\\n    height: 38px;\\n}\\nion-footer ion-toolbar ion-button.right{ \\n    width: 38px;\\n    height: 38px;\\n}\\n\\nion-footer ion-toolbar .ag-layout-btn{\\n    width: 38px;\\n    height: 38px; \\n    margin-top: 15px;\\n    position: absolute;\\n    left: 5px;\\n}\\n*/\\nion-badge {\\n  display: block;\\n  float: right;\\n  position: absolute;\\n  top: 5px;\\n  z-index: 99;\\n}\\n.additional-list ion-input {\\n  --padding-end:0;\\n  --padding-top:0;\\n  --padding-start:0;\\n  --padding-bottom:0;\\n  margin-top: 3px;\\n  margin-left: 6px;\\n}\\n.additional-list {\\n  font-size: 16px;\\n}\\nion-footer ion-toolbar {\\n  text-align: center;\\n}\\nion-footer ion-toolbar ion-button {\\n  --border-radius: 50px;\\n  width: 64px;\\n  height: 64px;\\n  --padding-bottom: 0px;\\n  --padding-end: 0;\\n  --padding-start: 0;\\n  --padding-top: 0;\\n}\\nion-footer ion-toolbar ion-button.left {\\n  width: 38px;\\n  height: 38px;\\n}\\nion-footer ion-toolbar ion-button.right {\\n  width: 38px;\\n  height: 38px;\\n}\\nion-footer ion-toolbar .ag-layout-btn {\\n  width: 38px;\\n  height: 38px;\\n  margin-top: 15px;\\n  position: absolute;\\n  left: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2Zvb2QtZHJpbmstbWVudS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBQUE7QUFpQ0E7RUFDSSxjQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7QUFDSjtBQUVBO0VBQ0ksZUFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBQ0o7QUFFQTtFQUNJLGVBQUE7QUFDSjtBQUdBO0VBQ0ksa0JBQUE7QUFBSjtBQUdBO0VBQ0kscUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FBQUo7QUFHQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBQUo7QUFFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBQ0o7QUFFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7QUFDSiIsImZpbGUiOiJmb29kLWRyaW5rLW1lbnUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbmlvbi1mb290ZXIgaW9uLXRvb2xiYXJ7XG4gICAgLy8tLWJhY2tncm91bmQ6IHdoaXRlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWZvb3RlciBpb24tdG9vbGJhciBpb24tYnV0dG9ue1xuICAgIC0tYm9yZGVyLXJhZGl1czogNTBweDtcbiAgICB3aWR0aDogNjRweDtcbiAgICBoZWlnaHQ6IDY0cHg7XG4gICAgLS1wYWRkaW5nLWJvdHRvbTogMHB4O1xuICAgIC0tcGFkZGluZy1lbmQ6IDA7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwO1xuICAgIC0tcGFkZGluZy10b3A6IDA7IFxufVxuXG5pb24tZm9vdGVyIGlvbi10b29sYmFyIGlvbi1idXR0b24ubGVmdHsgXG4gICAgd2lkdGg6IDM4cHg7XG4gICAgaGVpZ2h0OiAzOHB4O1xufVxuaW9uLWZvb3RlciBpb24tdG9vbGJhciBpb24tYnV0dG9uLnJpZ2h0eyBcbiAgICB3aWR0aDogMzhweDtcbiAgICBoZWlnaHQ6IDM4cHg7XG59XG5cbmlvbi1mb290ZXIgaW9uLXRvb2xiYXIgLmFnLWxheW91dC1idG57XG4gICAgd2lkdGg6IDM4cHg7XG4gICAgaGVpZ2h0OiAzOHB4OyBcbiAgICBtYXJnaW4tdG9wOiAxNXB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiA1cHg7XG59XG4qL1xuaW9uLWJhZGdle1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGZsb2F0OiByaWdodDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IFxuICAgIHRvcDogNXB4O1xuICAgIHotaW5kZXg6IDk5O1xufVxuXG4uYWRkaXRpb25hbC1saXN0IGlvbi1pbnB1dHtcbiAgICAtLXBhZGRpbmctZW5kOjA7XG4gICAgLS1wYWRkaW5nLXRvcDowO1xuICAgIC0tcGFkZGluZy1zdGFydDowO1xuICAgIC0tcGFkZGluZy1ib3R0b206MDtcbiAgICBtYXJnaW4tdG9wOiAzcHg7XG4gICAgbWFyZ2luLWxlZnQ6IDZweDtcbn1cblxuLmFkZGl0aW9uYWwtbGlzdCB7XG4gICAgZm9udC1zaXplOiAxNnB4O1xufVxuXG5cbmlvbi1mb290ZXIgaW9uLXRvb2xiYXJ7IFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWZvb3RlciBpb24tdG9vbGJhciBpb24tYnV0dG9ue1xuICAgIC0tYm9yZGVyLXJhZGl1czogNTBweDtcbiAgICB3aWR0aDogNjRweDtcbiAgICBoZWlnaHQ6IDY0cHg7XG4gICAgLS1wYWRkaW5nLWJvdHRvbTogMHB4O1xuICAgIC0tcGFkZGluZy1lbmQ6IDA7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwO1xuICAgIC0tcGFkZGluZy10b3A6IDA7IFxufVxuXG5pb24tZm9vdGVyIGlvbi10b29sYmFyIGlvbi1idXR0b24ubGVmdHsgXG4gICAgd2lkdGg6IDM4cHg7XG4gICAgaGVpZ2h0OiAzOHB4O1xufVxuaW9uLWZvb3RlciBpb24tdG9vbGJhciBpb24tYnV0dG9uLnJpZ2h0eyBcbiAgICB3aWR0aDogMzhweDtcbiAgICBoZWlnaHQ6IDM4cHg7XG59XG5cbmlvbi1mb290ZXIgaW9uLXRvb2xiYXIgLmFnLWxheW91dC1idG57XG4gICAgd2lkdGg6IDM4cHg7XG4gICAgaGVpZ2h0OiAzOHB4OyBcbiAgICBtYXJnaW4tdG9wOiAxNXB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiA1cHg7XG59Il19 */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FoodDrinkMenuPage } from './food-drink-menu.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FoodDrinkMenuPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FoodDrinkMenuPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FoodDrinkMenuPageRoutingModule } from './food-drink-menu-routing.module';\n\nimport { FoodDrinkMenuPage } from './food-drink-menu.page';\n\nimport { CurrencyPipe } from 'src/app/pipes/currency.pipe';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FoodDrinkMenuPageRoutingModule\n  ],\n  declarations: [FoodDrinkMenuPage,CurrencyPipe]\n})\nexport class FoodDrinkMenuPageModule {}\n"]}