{"version":3,"sources":["webpack:///src/app/pages/my-ears/my-ears.page.ts","webpack:///src/app/pages/my-ears/my-ears.page.html","webpack:///src/app/pages/my-ears/my-ears.page.scss","webpack:///src/app/pages/my-ears/my-ears-routing.module.ts","webpack:///src/app/pages/my-ears/my-ears.module.ts"],"names":["MyEarsPage","userService","toastController","authService","location","alertController","router","loadingController","ears","channel_not_found","layout","getEars","USER","undefined","console","log","navigate","create","message","duration","loading","present","getUserEars","uid","get","subscribe","snapshot","dismiss","docs","length","map","doc","i","data","then","push","id","subscribe_id","veryfied","channel_id","cssClass","header","buttons","text","role","handler","blah","unsubscribeFromChannel","filter","ear","color","toast","alert","back","url","selector","template","routes","path","component","MyEarsPageRoutingModule","imports","forChild","exports","MyEarsPageModule","declarations"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAcaA,UAAU;AAKrB,4BAAoBC,WAApB,EACoBC,eADpB,EAEmBC,WAFnB,EAGmBC,QAHnB,EAIoBC,eAJpB,EAKmBC,MALnB,EAMoBC,iBANpB,EAMwD;AAAA;;AANpC,eAAAN,WAAA,GAAAA,WAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AACD,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,QAAA,GAAAA,QAAA;AACC,eAAAC,eAAA,GAAAA,eAAA;AACD,eAAAC,MAAA,GAAAA,MAAA;AACC,eAAAC,iBAAA,GAAAA,iBAAA;AAVpB,eAAAC,IAAA,GAAiB,EAAjB;AACA,eAAAC,iBAAA,GAA8B,KAA9B;AACA,eAAAC,MAAA,GAAS,yBAAT;AASiB;;AAZI;AAAA;AAAA,iBAcrB,oBAAQ,CAAa;AAdA;AAAA;AAAA,iBAgBf,4BAAgB;;;;;;;AACpB,6BAAM,KAAKC,OAAL,EAAN;;;;;;;;;AACD;AAlBoB;AAAA;AAAA,iBAoBf,mBAAO;;;;;;;;;4BACR,KAAKR,WAAL,CAAiBS,IAAjB,KAA0BC,S;;;;;AAC3BC,6BAAO,CAACC,GAAR,CAAY,sCAAZ;AACA,2BAAKT,MAAL,CAAYU,QAAZ,CAAqB,CAAC,GAAD,CAArB;;;;;;AAEgB,6BAAM,KAAKT,iBAAL,CAAuBU,MAAvB,CAA8B;AAClDC,+BAAO,EAAE,gBADyC;AAElDC,gCAAQ,EAAE;AAFwC,uBAA9B,CAAN;;;AAAVC,6B;;AAIN,6BAAMA,OAAO,CAACC,OAAR,EAAN;;;AACA,2BAAKpB,WAAL,CAAiBqB,WAAjB,CAA6B,KAAKnB,WAAL,CAAiBS,IAAjB,CAAsBW,GAAnD,EAAwDC,GAAxD,GAA8DC,SAA9D,CAAwE,UAAMC,QAAN;AAAA,+BAAgB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtF,uCAAKjB,iBAAL,GAAyB,IAAzB;AACAW,yCAAO,CAACO,OAAR;;AACA,sCAAGD,QAAQ,CAACE,IAAT,CAAcC,MAAjB,EAAwB;AACtB,yCAAKpB,iBAAL,GAAyB,KAAzB;AACA,yCAAKD,IAAL,GAAW,EAAX;AACAkB,4CAAQ,CAACE,IAAT,CAAcE,GAAd,CAAkB,UAACC,GAAD,EAAKC,CAAL,EAAS;AACzBD,yCAAG,CAACE,IAAJ,GAAW,YAAX,EAAyBT,GAAzB,GAA+BU,IAA/B,CAAoC,UAACD,IAAD,EAAU;AAC5C,8CAAI,CAACzB,IAAL,CAAU2B,IAAV,CAAgB;AAAUC,4CAAE,EAACH,IAAI,CAACG,EAAlB;AAAqBC,sDAAY,EAACN,GAAG,CAACK,EAAtC;AAAyCE,kDAAQ,EAACP,GAAG,CAACE,IAAJ,GAAW,UAAX;AAAlD,2CAA4EA,IAAI,CAACA,IAAL,EAA5E,CAAhB;AACD,uCAFD;AAGD,qCAJD;AAKD;;AAXqF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAhB;AAAA,uBAAxE;;;;;;;;;AAgBH;AA9CoB;AAAA;AAAA,iBAgDf,gCAAuBM,UAAvB,EAAyCF,YAAzC,EAA4D;;;;;;;;;;AAClD,6BAAM,KAAKhC,eAAL,CAAqBY,MAArB,CAA4B;AAC9CuB,gCAAQ,EAAE,iBADoC;AAE9CC,8BAAM,EAAE,qBAFsC;AAG9CvB,+BAAO,EAAE,iCAHqC;AAI9CwB,+BAAO,EAAE,CACP;AACEC,8BAAI,EAAE,QADR;AAEEC,8BAAI,EAAE,QAFR;AAGEJ,kCAAQ,EAAE,WAHZ;AAIEK,iCAAO,EAAE,iBAACC,IAAD,EAAU;AACjBhC,mCAAO,CAACC,GAAR,CAAY,sBAAZ;AACD;AANH,yBADO,EAQJ;AACD4B,8BAAI,EAAE,MADL;AAEDE,iCAAO,EAAE;AAAA,mCAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACH,6CAAM,KAAKtC,iBAAL,CAAuBU,MAAvB,CAA8B;AAClDC,+CAAO,EAAE,gBADyC;AAElDC,gDAAQ,EAAE;AAFwC,uCAA9B,CAAN;;AADG;AACbC,6CADa;AAAA;AAKnB,6CAAMA,OAAO,CAACC,OAAR,EAAN;;AALmB;AAMnB,2CAAKpB,WAAL,CAAiB8C,sBAAjB,CAAwCR,UAAxC,EAAmDF,YAAnD,EAAiEH,IAAjE,CAAsE;AAAA,+CAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC9E,yDAAMd,OAAO,CAACO,OAAR,EAAN;;AAD8E;AAE9E,uDAAKnB,IAAL,GAAY,KAAKA,IAAL,CAAUwC,MAAV,CAAiB,UAAAC,GAAG,EAAE;AAChC,wDAAGA,GAAG,CAACb,EAAJ,IAAUG,UAAb,EAAwB;AACtB,6DAAOU,GAAP;AACD;AACF,mDAJW,CAAZ;AAF8E;AAOhE,yDAAM,KAAK/C,eAAL,CAAqBe,MAArB,CAA4B;AAC9CiC,yDAAK,EAAE,SADuC;AAE9ChC,2DAAO,EAAE,6BAFqC;AAG9CC,4DAAQ,EAAE;AAHoC,mDAA5B,CAAN;;AAPgE;AAOxEgC,uDAPwE;AAY9EA,uDAAK,CAAC9B,OAAN;;AAZ8E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAAV;AAAA,uCAAtE;;AANmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAZ;AAAA;AAFR,yBARI;AAJqC,uBAA5B,CAAN;;;AAAR+B,2B;;AAsCN,6BAAMA,KAAK,CAAC/B,OAAN,EAAN;;;;;;;;;AACD;AAxFoB;AAAA;AAAA,iBA0FrB,kBAAM;AACJ,iBAAKf,MAAL,CAAYU,QAAZ,CAAqB,CAAC,aAAD,CAArB;AACD;AA5FoB;AAAA;AAAA,iBA8FrB,gBAAI;AACF,iBAAKZ,QAAL,CAAciD,IAAd;AACD;AAhGoB;AAAA;AAAA,iBAkGrB,sBAAaJ,GAAb,EAAwB;AACtB,gBAAMK,GAAG,GAAG,qBAAmBL,GAAG,CAACb,EAAnC;;AACA,gBAAGa,GAAG,CAAC,UAAD,CAAN,EAAmB;AACjB,mBAAK3C,MAAL,CAAYU,QAAZ,CAAqB,CAACsC,GAAD,CAArB;AACD;AAEF;AAxGoB;AAAA;AAAA,iBA0GrB,wBAAY;AACV,iBAAK5C,MAAL,GAAe,KAAKA,MAAL,IAAa,eAAd,GAA+B,yBAA/B,GAAyD,eAAvE;AACD;AA5GoB;;AAAA;AAAA,S;;;;gBAXd;;gBAIA;;gBALA;;gBAEA;;gBACA;;gBACA;;gBADiB;;;;AASbV,gBAAU,6DALtB,gEAAU;AACTuD,gBAAQ,EAAE,aADD;AAETC,gBAAQ,EAAR,qEAFS;;AAAA,OAAV,CAKsB,GAAVxD,UAAU,CAAV;;;;;;;;;;;;;;;;ACdb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMyD,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,uBAAuB;AAAA;AAAA,O;;AAAvBA,6BAAuB,6DAJnC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAImC,GAAvBH,uBAAuB,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAAI,gBAAgB;AAAA;AAAA,O;;AAAhBA,sBAAgB,6DAT5B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,+EAJO,CADD;AAORI,oBAAY,EAAE,CAAC,wDAAD;AAPN,OAAT,CAS4B,GAAhBD,gBAAgB,CAAhB","file":"pages-my-ears-my-ears-module-es5.js","sourcesContent":["import { Component,  OnInit } from '@angular/core';\nimport { Channel } from 'src/app/objects/channel.model';\nimport { AuthService } from 'src/app/services/auth.service'; \nimport { UserService } from 'src/app/services/user.service'; \nimport { Location } from '@angular/common';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-my-ears',\n  templateUrl: './my-ears.page.html',\n  styleUrls: ['./my-ears.page.scss'],\n})\nexport class MyEarsPage implements OnInit {\n  ears:Channel[] = [];\n  channel_not_found: boolean  = false;  \n  layout = 'phone-landscape-outline'\n\n  constructor(private userService:UserService,\n              private toastController:ToastController,\n              public authService:AuthService,\n              public location:Location,\n              private alertController:AlertController,\n              public router:Router,  \n              private loadingController: LoadingController, \n              ) { }\n              \n  ngOnInit(): void {  }\n\n  async ionViewWillEnter(){\n    await this.getEars()\n  }\n  \n  async getEars(){   \n    if(this.authService.USER === undefined ){\n      console.log(\"this.authService.USER.uid bulunamadı\")\n      this.router.navigate(['/']); \n    }else{\n      const loading = await this.loadingController.create({ \n        message: 'Please wait...',\n        duration: 5000\n      });\n      await loading.present(); \n      this.userService.getUserEars(this.authService.USER.uid).get().subscribe(async snapshot=>{   \n        this.channel_not_found = true;\n        loading.dismiss();\n        if(snapshot.docs.length){ \n          this.channel_not_found = false;\n          this.ears =[];\n          snapshot.docs.map((doc,i)=>{ \n            doc.data()['channelDoc'].get().then((data) => { \n              this.ears.push (<Channel>{id:data.id,subscribe_id:doc.id,veryfied:doc.data()['veryfied'],...data.data()});  \n            })  \n          })\n        }\n      })\n\n      \n    }\n  }\n\n  async unsubscribeFromChannel(channel_id:string,subscribe_id:string){ \n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Onaylıyor musunuz ?',\n      message: 'Aboneliğiniz sonlandırılacak ! ',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Okay',\n          handler: async () => {  \n            const loading = await this.loadingController.create({ \n              message: 'Please wait...',\n              duration: 5000\n            });\n            await loading.present(); \n            this.userService.unsubscribeFromChannel(channel_id,subscribe_id).then(async ()=>{\n              await loading.dismiss();\n              this.ears = this.ears.filter(ear=>{\n                if(ear.id != channel_id){\n                  return ear; \n                }\n              })          \n              const toast = await this.toastController.create({\n                color: 'success',\n                message: \"Aboneliğiniz sonlandırıldı.\",\n                duration: 2000\n              });\n              toast.present();\n            }) \n          }\n        }\n      ]\n    });\n    await alert.present(); \n  }\n\n  qrScan(){\n    this.router.navigate(['/qr-scanner'])\n  }\n\n  back(){\n    this.location.back();\n  }\n\n  showMessages(ear:Channel){\n    const url = '/board-messages/'+ear.id \n    if(ear['veryfied']){\n      this.router.navigate([url])\n    }\n    \n  }\n\n  changeLayout(){\n    this.layout = (this.layout=='image-outline')?'phone-landscape-outline':'image-outline'\n  }\n}\n\n ","export default \"<ion-toolbar > \\n  <ion-tabs>\\n    <ion-tab-bar slot=\\\"top\\\">  \\n      <ion-tab-button (click)=\\\"router.navigate(['home'])\\\"> \\n        <ion-icon name=\\\"home\\\"></ion-icon> \\n      </ion-tab-button>\\n      <ion-title   >Aboneliklerim</ion-title>\\n      <ion-tab-button (click)=\\\"qrScan()\\\">\\n        <ion-icon name=\\\"qr-code\\\"></ion-icon> \\n      </ion-tab-button>\\n    </ion-tab-bar>\\n  </ion-tabs>\\n</ion-toolbar>   \\n \\n\\n<ion-content>\\n  <div *ngFor=\\\"let ear of ears\\\" >\\n    <ion-card >\\n      <ion-card-header (click)=\\\"showMessages(ear)\\\"> \\n        <ion-card-subtitle>{{ear.channel_name}}</ion-card-subtitle>\\n      </ion-card-header>\\n      <img src=\\\"{{ear.logo}}\\\" (click)=\\\"showMessages(ear)\\\" *ngIf=\\\"layout=='phone-landscape-outline'\\\" />  \\n      <ion-card-content> {{ear.description}} </ion-card-content>\\n      <ion-button *ngIf=\\\"ear.veryfied\\\" (click)=\\\"unsubscribeFromChannel(ear.id,ear.subscribe_id)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\"   >\\n        Abonelikten Çık\\n      </ion-button>  \\n      <div *ngIf=\\\"!ear.veryfied\\\">\\n        <ion-button expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">Onay bekleniyor</ion-button> \\n        <ion-button (click)=\\\"unsubscribeFromChannel(ear.id,ear.subscribe_id)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\"  >İsteği İptal Et</ion-button>  \\n      </div>\\n           \\n    </ion-card>\\n  </div>\\n\\n\\n  <!-- NOT FOUND--> \\n  <ion-grid fixed *ngIf=\\\"channel_not_found\\\" style=\\\"margin-top: 100px;\\\">\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" style=\\\"text-align: center;\\\">  \\n       <ion-icon name=\\\"thumbs-up-outline\\\" style=\\\"font-size: 100px;\\\"></ion-icon>\\n      </ion-col>\\n     </ion-row> \\n     <ion-row> \\n      <ion-col size=\\\"12\\\">\\n       <ion-button fill=\\\"clear\\\" expand=\\\"full\\\">\\n        Aboneliğiniz yok\\n       </ion-button>\\n      </ion-col> \\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\"> \\n       <ion-button fill=\\\"clear\\\" expand=\\\"full\\\" routerLink=\\\"/form-ear\\\">\\n         <ion-icon slot=\\\"start\\\" name=\\\"add-circle\\\" ></ion-icon> \\n         Hemen abonelik başlatın\\n       </ion-button> \\n      </ion-col> \\n    </ion-row>\\n  </ion-grid>\\n\\n\\n\\n\\n\\n\\n\\n  <ion-fab vertical=\\\"bottom\\\"   horizontal=\\\"end\\\"  slot=\\\"fixed\\\">\\n    <ion-fab-button routerLink=\\\"/form-ear\\\">\\n      <ion-icon style=\\\"color: white; font-size: 24px;\\\"  name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n</ion-content>\\n\";","export default \"/*\\nion-content{\\n    --background: url('/assets/subscribe.png') 50% 30% no-repeat,url('/assets/bg.png'),beige;  \\n} \\n\\n\\n.ag-tools{\\n    width: 100%;\\n    display: block; \\n}\\n.ag-tools ion-icon{\\n    float: right;\\n    margin: 10px 5px 0 10px;\\n    font-size: 14px;\\n}\\n\\n.not-found-cart { \\n    box-shadow: none;\\n    text-align: center;\\n    position: absolute;\\n    top: 60%;\\n    left: 50%;\\n    transform: translateY(-50%) translateX(-50%); \\n    --background: transparent;\\n    width: 300px;\\n}\\n\\nion-item{ \\n    --background: transparent;\\n}\\n*/\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL215LWVhcnMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FBQSIsImZpbGUiOiJteS1lYXJzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5pb24tY29udGVudHtcbiAgICAtLWJhY2tncm91bmQ6IHVybCgnL2Fzc2V0cy9zdWJzY3JpYmUucG5nJykgNTAlIDMwJSBuby1yZXBlYXQsdXJsKCcvYXNzZXRzL2JnLnBuZycpLGJlaWdlOyAgXG59IFxuXG5cbi5hZy10b29sc3tcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBibG9jazsgXG59XG4uYWctdG9vbHMgaW9uLWljb257XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIG1hcmdpbjogMTBweCA1cHggMCAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLm5vdC1mb3VuZC1jYXJ0IHsgXG4gICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNjAlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgtNTAlKTsgXG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICB3aWR0aDogMzAwcHg7XG59XG5cbmlvbi1pdGVteyBcbiAgICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuKi9cbiAiXX0= */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyEarsPage } from './my-ears.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyEarsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyEarsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { MyEarsPageRoutingModule } from './my-ears-routing.module';\nimport { MyEarsPage } from './my-ears.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MyEarsPageRoutingModule\n  ],\n  declarations: [MyEarsPage], \n})\nexport class MyEarsPageModule {}\n"]}