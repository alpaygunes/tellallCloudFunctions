{"version":3,"sources":["webpack:///src/app/pages/add-message-text/add-message-text.module.ts","webpack:///src/app/pages/add-message-text/add-message-text.page.ts","webpack:///src/app/pages/add-message-text/add-message-text.page.scss","webpack:///src/app/pages/add-message-text/add-message-text-routing.module.ts","webpack:///src/app/pages/add-message-text/add-message-text.page.html"],"names":["AddMessageTextPageModule","imports","declarations","providers","provide","useValue","AddMessageTextPage","route","modalController","actionSheetController","location","alertController","authService","fileService","ag_subscribers","loadingController","router","messageService","channel_id","message","image_input_files","media_input_files","show_call_back_options","message_length","types","feedback","BU","snapshot","paramMap","get","unsubscribe","type_id","call_back_id","setTimeout","content","scrollToBottom","el","clientHeight","choice","text","correct","choices","push","i","splice","create","duration","loading","fileEl","document","createElement","type","setAttribute","addEventListener","event","present","files","target","a","Promise","res","rej","size","Number","length","dismiss","reader","FileReader","readAsDataURL","onload","revent","result","onerror","error","then","console","click","mediaFileEl","Object","keys","totalsize","map","file","pop","cssClass","header","buttons","handler","alert","media","filter","f","now_played_media","video","pause","currentTime","navigationExtras","state","navigate","id","corret_is_set","forEach","v","uid","USER","doc_id","fs","createId","uploadImages","image_srcs","uploadMedia","media_files","JSON","parse","stringify","created_at","FieldValue","serverTimestamp","save","srcs","images","image","resizeImage","blob","filePath","currentUser","ref","put","upload","getDownloadURL","url","err","log","messages","progres_bar","getElementById","style","display","file_data","name","URL","createObjectURL","play","back","icon","getIconByID","setCallBackTypes","getNameByID","actionSheet","selector","template","routes","path","component","AddMessageTextPageRoutingModule","forChild","exports"],"mappings":"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","file":"pages-add-message-text-add-message-text-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { AddMessageTextPageRoutingModule } from './add-message-text-routing.module';\nimport { AddMessageTextPage } from './add-message-text.page';\nimport { UnixTimeToDatePipe } from 'src/app/pipes/unix-time-to-date.pipe';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddMessageTextPageRoutingModule, \n  ],\n  declarations: [AddMessageTextPage,UnixTimeToDatePipe],\n  providers:[\n    {provide: \"ag_subscribers\", useValue:[]},\n  ]\n})\nexport class AddMessageTextPageModule {}\n","import { CallBackTypes, Message,FeedBack, MediaFile } from 'src/app/objects/message.model';\nimport { Component, Inject, OnInit, ViewChild } from '@angular/core'; \nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\nimport { MessageService } from 'src/app/services/message.service'; \nimport * as firebase from 'firebase';\nimport { Location } from '@angular/common';\nimport { AlertController, LoadingController, ModalController } from '@ionic/angular'; \nimport { FileService } from 'src/app/services/file.service'; \nimport { AuthService } from 'src/app/services/auth.service';\nimport { ActionSheetController } from '@ionic/angular';\n\n\n\n\n@Component({\n  selector: 'app-add-message-text',\n  templateUrl: './add-message-text.page.html',\n  styleUrls: ['./add-message-text.page.scss'],\n})\n\nexport class AddMessageTextPage implements OnInit { \n  channel_id:string  =''; \n  messages: Message[];\n  types:CallBackTypes ;\n  message:Message  = new Message();\n  image_input_files:File[]=[];\n  media_input_files:File[]=[];\n  show_call_back_options: boolean = false;\n  @ViewChild('content') private content: any; \n  feedback:FeedBack;\n  message_length:number = 500; \n  video:HTMLVideoElement;\n  now_played_media:File;\n\n  constructor(  public route: ActivatedRoute, \n                private modalController:ModalController,\n                private actionSheetController:ActionSheetController,\n                public location:Location,\n                private alertController:AlertController,\n                public authService:AuthService,\n                private fileService:FileService,\n                @Inject(\"ag_subscribers\") private ag_subscribers,\n                private loadingController: LoadingController,\n                public router:Router,\n                private messageService:MessageService) { \n                      this.types    = new CallBackTypes();\n                      this.feedback = new FeedBack();\n                 }\n\n  ngOnInit() { \n    let BU = this;  \n    this.channel_id = this.route.snapshot.paramMap.get('id') \n    if(this.ag_subscribers[this.channel_id]){   \n      this.ag_subscribers[this.channel_id].unsubscribe();\n    }\n    //this.getMessages() \n  }\n\n  setCallBackTypes(type_id:number){\n    this.message.call_back_id = type_id;\n    //this.showCallBackOptions();\n    if(this.message.call_back_id == 0 || this.message.call_back_id == 4){\n      setTimeout(()=>{ \n        this.content.scrollToBottom(this.content.el.clientHeight);\n      },500)\n    }\n  }\n\n  addChoice(){\n    const choice = {text:'',correct:false} \n    this.message.choices.push(choice)\n  }\n\n  removeChoce(i:number){   \n    this.message.choices.splice(i, 1); \n  }\n\n  setCorrect(i:number){ \n    this.message.choices[i]['correct'] = !this.message.choices[i]['correct']\n  }\n\n  async addImage(){\n    let BU = this;\n    const loading     = await this.loadingController.create({ \n      message: 'Please wait...',\n      duration: 10000\n    }); \n\n    let fileEl  : HTMLInputElement;\n    fileEl      = document.createElement('input');\n    fileEl.type = \"file\";\n    fileEl.setAttribute(\"multiple\",\"true\");\n    fileEl.setAttribute(\"accept\",\"image/*\"); \n    fileEl.addEventListener('change', async (event)=>{   \n      loading.present();\n      let files = (<HTMLInputElement>event.target).files;\n      for(let i in files){\n        let a = new Promise(async (res,rej)=>{\n          if(files[i].size){             \n            if(Number(i) >= files.length-1){\n              await loading.dismiss();\n            }\n            const reader    = new FileReader();\n            reader.readAsDataURL(files[i]);\n            reader.onload   = (revent) => {\n              BU.image_input_files.push(files[i]) \n              res( <string>revent.target.result)\n            };\n            reader.onerror  = error => {\n              rej(error)\n            };\n          }\n        })\n        a.then((result)=>{\n          files[i]['src'] = result \n        }).catch((error)=>{\n          console.error(\"Hata resim işlenemedi\" , error)\n        })\n      } \n      setTimeout(()=>{ \n        this.content.scrollToBottom(this.content.el.clientHeight);\n      },500)\n    })\n    fileEl.click(); \n  }\n\n  async addMedia(){ \n    let mediaFileEl  : HTMLInputElement;\n    mediaFileEl      = document.createElement('input');\n    mediaFileEl.type = \"file\";\n    mediaFileEl.setAttribute(\"multiple\",\"true\");\n    mediaFileEl.setAttribute(\"accept\",\"audio/*,video/*\");  \n\n    mediaFileEl.addEventListener('change', async (event)=>{    \n      let files = (<HTMLInputElement>event.target).files;\n      for(let i in Object.keys(files)){ \n        if(files[i].size < 20000000){\n          this.media_input_files.push(files[i])\n          let totalsize   = 0\n          this.media_input_files.map(file=>{\n            totalsize     += file.size;\n          })\n\n          if(totalsize>40000000){\n            this.media_input_files.pop();\n            const alert = await this.alertController.create({\n              cssClass: 'my-custom-class',\n              header: 'Dikkat !',\n              message: 'Toplam dosya boyutu limiti aşıldı.(Max 40 MB)',\n              buttons: [{\n                  text: 'Okay',\n                  handler: async () => {\n                  }\n                }\n              ]\n            });\n            await alert.present(); \n            break;\n          }\n        }else{\n          const alert = await this.alertController.create({\n            cssClass: 'my-custom-class',\n            header: 'Dikkat !',\n            message: 'Dosya boyutu enfazla 20 MB olabilir. ',\n            buttons: [{\n                text: 'Okay',\n                handler: async () => {\n                }\n              }\n            ]\n          });\n          await alert.present(); \n        }\n      }\n\n\n\n      setTimeout(()=>{ \n        this.content.scrollToBottom(this.content.el.clientHeight);\n      },500) \n    })\n    mediaFileEl.click(); \n  }\n\n  removeMediaFile(media:File){\n    this.media_input_files = this.media_input_files.filter(f=>{\n      if(f!==media){\n        return f;\n      } \n    })\n    if(this.now_played_media == media){ \n      this.video.pause();\n      this.video.currentTime  = 0;\n      this.now_played_media   = null;\n    }\n  }\n\n  deleteImage(i:number){\n    this.image_input_files.splice(i, 1);\n  }\n\n  async preview(){ \n    let message = this.message\n    let navigationExtras: NavigationExtras = {\n      state: {\n        message: message,\n        feedback:this.feedback,\n        image_input_files:this.image_input_files,\n      }\n    };\n    this.router.navigate(['/text/'+this.channel_id+'/'+message.id],navigationExtras)\n  }\n   \n  async save(){\n    if(this.message.call_back_id === 0){\n      let corret_is_set :boolean=false;\n      this.message.choices.forEach((v,i)=>{\n        if(v['correct']){\n          corret_is_set = true\n        }\n      })\n      if(!corret_is_set){\n        alert(\"En az bir doğru seçenek olmalı\")\n        return;\n      }\n    }\n\n    this.message.uid  = this.authService.USER.uid;\n    const loading     = await this.loadingController.create({ \n      message: 'Please wait...',\n      duration: 100000\n    }); \n    await loading.present();\n    \n    let doc_id        = this.messageService.fs.createId();\n    this.message.image_srcs = await this.uploadImages(doc_id);\n\n    doc_id                  = this.messageService.fs.createId()\n    this.message.media_files = await this.uploadMedia(doc_id); \n    this.message             = JSON.parse(JSON.stringify(this.message))\n    this.message.created_at = firebase.firestore.FieldValue.serverTimestamp();\n\n    this.messageService.save(this.message,this.channel_id,doc_id).then(async ()=>{\n      await loading.dismiss();\n      this.router.navigate(['channel-messages/'+this.channel_id])\n      this.message = new Message();\n    })\n  } \n\n  async uploadImages(doc_id:string):Promise<string[]>{\n    let srcs:string[]=[]\n    const images = this.image_input_files;\n    let  blob:Blob;\n    for(let i=0;i<images.length;i++){\n      let image  = images[i];\n      blob = await this.fileService.resizeImage(image,512,512,.8);      \n      let a = new Promise<string>((res,rej)=>{\n        let filePath = firebase.auth().currentUser.uid +'/'+ this.channel_id +'/'+doc_id+ '_' +i;\n        firebase.storage().ref(filePath).put(blob).then((upload)=>{\n          upload.ref.getDownloadURL().then((url)=>{\n            res(url)\n          }).catch((err)=>{\n            console.log(\"getLogo : Resim storage de bulunamadı\" , err.messages)\n            rej(err.messages)\n          })\n        })\n      })\n      srcs.push(await a)\n    } \n    return srcs;\n  }\n\n  async uploadMedia(doc_id:string):Promise<MediaFile[]>{\n    let srcs:MediaFile[] = []\n    const files = this.media_input_files; \n    for(let i = 0; i < files.length ;i++){    \n      let a = new Promise<any>((res,rej)=>{\n        let file = files[i];\n        let progres_bar = document.getElementById('file_'+i)\n        progres_bar.style.display = \"block\"\n        let filePath = firebase.auth().currentUser.uid +'/'+ this.channel_id +'/'+doc_id+ '_' +i;\n        firebase.storage().ref(filePath).put(file).then((upload)=>{  \n          progres_bar.style.display = \"none\"\n          upload.ref.getDownloadURL().then((url:string)=>{\n            let file_data:MediaFile = new MediaFile();\n            file_data.name    = file.name;\n            file_data.url     = url;\n            file_data.type    = file.type;\n            res(file_data)\n          }).catch((err)=>{\n            console.log(\"uploadMedia : mediya gönderilirken hata\" , err.messages)\n            rej(err.messages)\n          })\n        })\n      })\n      srcs.push(await a)\n    } \n    return srcs;\n  }\n\n  playMedia(media:File){\n    var url = URL.createObjectURL( media ); \n    this.now_played_media = media\n    this.video = <HTMLVideoElement>document.getElementById('myvideo');\n    this.video.setAttribute('src',url)\n    this.video.play();\n  }\n\n  stopMedia(){ \n    this.video.pause();\n    this.video.currentTime  = 0;\n    this.now_played_media = null;\n  }\n \n  back(){\n    this.location.back();\n  }\n\n  async showCallBackOptions(){\n    //this.show_call_back_options=!this.show_call_back_options\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Geri Bildirim Türü Seçin',\n      cssClass: 'my-custom-class',\n      buttons: [{\n        text: 'Geri bildirim olmasın', \n        icon: 'assets/icon/'+this.types.getIconByID(null),\n        handler: () => {\n          this.setCallBackTypes(null)\n        }\n      },{\n        text: this.types.getNameByID(3), \n        icon: 'assets/icon/'+this.types.getIconByID(3),\n        handler: () => {\n          this.setCallBackTypes(3)\n        }\n      },{\n        text: this.types.getNameByID(1), \n        icon: 'assets/icon/'+this.types.getIconByID(1),\n        handler: () => {\n          this.setCallBackTypes(1)\n        }\n      },{\n        text: this.types.getNameByID(2), \n        icon: 'assets/icon/'+this.types.getIconByID(2),\n        handler: () => {\n          this.setCallBackTypes(2)\n        }\n      },{\n        text: this.types.getNameByID(0), \n        icon: 'assets/icon/'+this.types.getIconByID(0),\n        handler: () => {\n          this.setCallBackTypes(0)\n        }\n      },{\n        text: this.types.getNameByID(4), \n        icon: 'assets/icon/'+this.types.getIconByID(4),\n        handler: () => {\n          this.setCallBackTypes(4)\n        }\n      },{\n        text: this.types.getNameByID(5), \n        icon: 'assets/icon/'+this.types.getIconByID(5),\n        handler: () => {\n          this.setCallBackTypes(5)\n        }\n      }]\n    });\n    await actionSheet.present();\n  }\n}","export default \"#ag-choices .ag-correct {\\n  font-size: 20px;\\n  color: green;\\n  font-weight: bold;\\n  -webkit-margin-end: 2px;\\n          margin-inline-end: 2px;\\n}\\n\\nion-chip ion-icon {\\n  margin-inline: unset;\\n}\\n\\n/* The animation code */\\n\\n@-webkit-keyframes example {\\n  from {\\n    top: -50px;\\n  }\\n  to {\\n    top: 0;\\n  }\\n}\\n\\n@keyframes example {\\n  from {\\n    top: -50px;\\n  }\\n  to {\\n    top: 0;\\n  }\\n}\\n\\n/* The element to apply the animation to */\\n\\n.call-back-type-icons ion-chip {\\n  position: absolute;\\n  -webkit-animation-name: example;\\n          animation-name: example;\\n  -webkit-animation-duration: 0.2s;\\n          animation-duration: 0.2s;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2FkZC1tZXNzYWdlLXRleHQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsZUFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLHVCQUFBO1VBQUEsc0JBQUE7QUFBRjs7QUFHQTtFQUNFLG9CQUFBO0FBQUY7O0FBSUEsdUJBQUE7O0FBQ0E7RUFDSTtJQUFNLFVBQUE7RUFBUjtFQUNFO0lBQUksTUFBQTtFQUVOO0FBQ0Y7O0FBTEE7RUFDSTtJQUFNLFVBQUE7RUFBUjtFQUNFO0lBQUksTUFBQTtFQUVOO0FBQ0Y7O0FBQUUsMENBQUE7O0FBQ0E7RUFDRSxrQkFBQTtFQUNBLCtCQUFBO1VBQUEsdUJBQUE7RUFDQSxnQ0FBQTtVQUFBLHdCQUFBO0FBRUoiLCJmaWxlIjoiYWRkLW1lc3NhZ2UtdGV4dC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbiNhZy1jaG9pY2VzIC5hZy1jb3JyZWN0e1xuICBmb250LXNpemU6IDIwcHg7XG4gIGNvbG9yOiBncmVlbjsgXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBtYXJnaW4taW5saW5lLWVuZDoycHg7XG59XG5cbmlvbi1jaGlwIGlvbi1pY29uIHtcbiAgbWFyZ2luLWlubGluZTp1bnNldDtcbn1cblxuXG4vKiBUaGUgYW5pbWF0aW9uIGNvZGUgKi9cbkBrZXlmcmFtZXMgZXhhbXBsZSB7XG4gICAgZnJvbSB7dG9wOiAtNTBweDt9XG4gICAgdG8ge3RvcDogMH1cbiAgfVxuICBcbiAgLyogVGhlIGVsZW1lbnQgdG8gYXBwbHkgdGhlIGFuaW1hdGlvbiB0byAqL1xuICAuY2FsbC1iYWNrLXR5cGUtaWNvbnMgaW9uLWNoaXAgeyBcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IFxuICAgIGFuaW1hdGlvbi1uYW1lOiBleGFtcGxlO1xuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogLjJzO1xuICB9Il19 */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddMessageTextPage } from './add-message-text.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddMessageTextPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddMessageTextPageRoutingModule {}\n","export default \"<ion-toolbar> \\n  <ion-tabs>\\n    <ion-tab-bar slot=\\\"top\\\">\\n      <ion-buttons (click)=\\\"back()\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\" ></ion-icon>\\n      </ion-buttons>\\n      <ion-title>Mesaj Düzenle</ion-title>\\n    </ion-tab-bar> \\n  </ion-tabs>\\n</ion-toolbar>\\n\\n \\n<ion-content #content>\\n  \\n  <!--  =========================================    IMAGES      =============================== --> \\n  <section  id=\\\"ag-message-images\\\">\\n    <ion-card *ngFor=\\\"let file of image_input_files; let i=index\\\">\\n      <img [src]=\\\"file.src\\\" />\\n      <ion-card-content>\\n        <ion-button (click)=\\\"deleteImage(i)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\n          Delete\\n        </ion-button>\\n      </ion-card-content>\\n    </ion-card>\\n  </section>\\n\\n  <!--  =========================================    MEDIA FILES      =============================== -->\\n  <section *ngIf=\\\"media_input_files.length\\\">\\n    <video id=\\\"myvideo\\\" controls  [hidden]=\\\"!now_played_media\\\"></video>\\n    <ion-list lines=\\\"none\\\">\\n      <ion-item *ngFor=\\\"let media of media_input_files ; let i = index\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"play-circle-outline\\\"   *ngIf=\\\"now_played_media != media\\\" (click)=\\\"playMedia(media)\\\"></ion-icon>\\n        <ion-icon slot=\\\"start\\\" name=\\\"pause-circle-outline\\\"  *ngIf=\\\"now_played_media == media\\\" (click)=\\\"stopMedia()\\\"></ion-icon>\\n        <ion-icon slot=\\\"end\\\" name=\\\"trash-outline\\\" (click)=\\\"removeMediaFile(media)\\\"></ion-icon>\\n        <ion-label>\\n          {{media.name}} {{(i+1)}}\\n        </ion-label>\\n        <ion-progress-bar  type=\\\"indeterminate\\\" id=\\\"file_{{i}}\\\" style=\\\"display: none;\\\"></ion-progress-bar>\\n      </ion-item>\\n    </ion-list>\\n  </section>\\n\\n  <!--  =========================================    QUIZ & SURVEY     =============================== -->\\n  <section *ngIf=\\\"message.call_back_id==4 || message.call_back_id==0\\\" >\\n    <section id=\\\"ag-choices\\\">\\n      <ion-item lines=\\\"none\\\" *ngFor=\\\"let choice of message.choices let i = index\\\">\\n        <ion-icon   slot=\\\"start\\\" *ngIf=\\\"message.call_back_id==0\\\" style=\\\"margin-inline-end:2px;\\\" \\n                    [class.ag-correct]=\\\"choice.correct\\\"\\n                    name=\\\"checkmark-circle-outline\\\" (click)=\\\"setCorrect(i)\\\"></ion-icon>\\n        <ion-input  type=\\\"text\\\" color=\\\"medium\\\" [(ngModel)]=\\\"choice.text\\\" placeholder=\\\"Seçenek yazın\\\"></ion-input>\\n        <ion-icon   slot=\\\"end\\\"  name=\\\"remove-circle-outline\\\" (click)=\\\"removeChoce(i)\\\"></ion-icon>\\n      </ion-item>\\n    </section>\\n    <ion-item lines=\\\"none\\\" style=\\\"text-align:right\\\">\\n      <ion-label color=\\\"medium\\\" >Seçenek ekle</ion-label>\\n      <ion-icon slot=\\\"end\\\" name=\\\"add-circle-outline\\\" (click)=\\\"addChoice()\\\"></ion-icon>\\n    </ion-item>\\n  </section>\\n    \\n</ion-content>\\n\\n<section id=\\\"ag-editor-area\\\">\\n  <!--  =========================================    TEXTAREA     =============================== --> \\n  <ion-textarea rows=\\\"4\\\" [(ngModel)]= \\\"message.text\\\" color=\\\"medium\\\" maxlength=\\\"{{message_length}}\\\"  placeholder=\\\"Mesajınızı yazın...\\\" >\\n  </ion-textarea>\\n  <ion-chip color=\\\"light\\\" mode=\\\"ios\\\" outline=\\\"true\\\">\\n    <ion-label>{{(message_length - message.text.length)}} / {{message_length}}</ion-label>\\n  </ion-chip>\\n  <!--  =========================================    CALLBACK ICONS ============================= -->\\n  <ion-grid color=\\\"medium\\\">\\n    <ion-row>\\n      <ion-col size=\\\"3\\\" (click)=\\\"addImage()\\\">\\n        <ion-chip outline  color=\\\"secondary\\\">\\n          <ion-icon name=\\\"image-outline\\\" ></ion-icon> \\n        </ion-chip>\\n      </ion-col>\\n      <ion-col size=\\\"4\\\" (click)=\\\"addMedia()\\\">\\n        <ion-chip outline  color=\\\"secondary\\\" >\\n          <ion-icon name=\\\"mic-outline\\\"></ion-icon> \\n          <ion-icon name=\\\"film-outline\\\"></ion-icon>\\n        </ion-chip>\\n      </ion-col> \\n      <ion-col size=\\\"3\\\">        \\n        <ion-chip outline  color=\\\"secondary\\\" (click)=\\\"showCallBackOptions()\\\" >\\n          <ion-icon  *ngIf=\\\"message.call_back_id == null\\\"   [src]=\\\"'assets/icon/'+types.getIconByID(message.call_back_id)\\\" ></ion-icon>\\n          <ion-icon  *ngIf=\\\"message.call_back_id == 0\\\"      [src]=\\\"'assets/icon/'+types.getIconByID(message.call_back_id)\\\" ></ion-icon>\\n          <ion-icon  *ngIf=\\\"message.call_back_id == 1\\\"      [src]=\\\"'assets/icon/'+types.getIconByID(message.call_back_id)\\\" ></ion-icon>\\n          <ion-icon  *ngIf=\\\"message.call_back_id == 2\\\"      [src]=\\\"'assets/icon/'+types.getIconByID(message.call_back_id)\\\" ></ion-icon>\\n          <ion-icon  *ngIf=\\\"message.call_back_id == 3\\\"      [src]=\\\"'assets/icon/'+types.getIconByID(message.call_back_id)\\\" ></ion-icon>\\n          <ion-icon  *ngIf=\\\"message.call_back_id == 4\\\"      [src]=\\\"'assets/icon/'+types.getIconByID(message.call_back_id)\\\" ></ion-icon>\\n          <ion-icon  *ngIf=\\\"message.call_back_id == 5\\\"      [src]=\\\"'assets/icon/'+types.getIconByID(message.call_back_id)\\\" ></ion-icon>\\n        </ion-chip>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\" (click)=\\\"save()\\\">\\n        <ion-chip outline  color=\\\"secondary\\\" >\\n          <ion-icon name=\\\"send-outline\\\"></ion-icon> \\n        </ion-chip>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</section>\";"]}