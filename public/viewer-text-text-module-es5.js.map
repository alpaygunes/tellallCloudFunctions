{"version":3,"sources":["webpack:///src/app/viewer/text/text.page.html","webpack:///src/app/viewer/text/text-routing.module.ts","webpack:///src/app/viewer/text/text.page.scss","webpack:///src/app/viewer/text/text.page.ts","webpack:///src/app/viewer/text/text.module.ts"],"names":["routes","path","component","TextPageRoutingModule","imports","forChild","exports","TextPage","navCtrl","toastController","loadingController","messageService","router","location","urlService","platform","route","feedback","firs_respons","image_input_files","media_input_files","previousUrl","max_reply_length","queryParams","subscribe","params","getCurrentNavigation","extras","state","message","text","replace","linkify","previousUrl$","cid","snapshot","paramMap","get","mid","create","duration","loading","present","getMessageById","data","dismiss","getFeedBack","urlRegex","url","getFeedBackByUID","then","undefined","call_back_id","choices","forEach","v","i","checked","sendFeedBack","reply","color","toast","f","respose_exist","document","getElementsByClassName","parentElement","setAttribute","back","file","now_played_file","video","getElementById","play","pause","currentTime","selector","template","TextPageModule","declarations"],"mappings":"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","file":"viewer-text-text-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>  \\n    <ion-buttons slot=\\\"start\\\" (click)=\\\"back()\\\">\\n      <ion-icon name=\\\"chevron-back-outline\\\"  ></ion-icon>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen>\\n\\n<div class=\\\"message-box\\\">\\n  <p [innerHtml]=\\\"message?.text\\\"></p>\\n\\n  <!--- =========================================  IMAGES  ========================================= -->\\n  <div *ngFor=\\\"let src of message?.image_srcs\\\">\\n    <img [src]=\\\"src\\\"> \\n  </div>\\n  <div *ngFor=\\\"let file of image_input_files\\\">\\n    <img [src]=\\\"file.src\\\"> \\n  </div>\\n</div>\\n\\n<!--  =========================================    MEDIA FILES      =============================== -->\\n<section *ngIf=\\\"message?.media_files\\\" >\\n  <video id=\\\"myvideo\\\" controls  style=\\\"width: 100%;\\\"  [hidden]=\\\"!now_played_file\\\"></video>\\n  <ion-list lines=\\\"none\\\">\\n    <div *ngFor=\\\"let file of message.media_files ; let i = index\\\" >\\n      <ion-item [class.active-media]=\\\"now_played_file == file\\\" [class.pasive-media]=\\\"now_played_file != file\\\" line=\\\"none\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"play-circle-outline\\\"   *ngIf=\\\"now_played_file != file\\\" (click)=\\\"playMedia(file)\\\"></ion-icon>\\n        <ion-icon slot=\\\"start\\\" name=\\\"pause-circle-outline\\\"  *ngIf=\\\"now_played_file == file\\\" (click)=\\\"stopMedia()\\\"></ion-icon> \\n        <ion-label>\\n          {{ file.name }}\\n        </ion-label>\\n      </ion-item>\\n    </div>\\n  </ion-list>\\n</section> \\n\\n<!--  =========================================    QUIZ & SURVEY     =============================== -->\\n<section *ngIf=\\\"message?.call_back_id==4 || message?.call_back_id==0\\\">\\n  <section id=\\\"ag-choices\\\">\\n    <ion-item lines=\\\"none\\\" *ngFor=\\\"let choice of message?.choices let i = index\\\"> \\n      <ion-label color=\\\"medium\\\"   class=\\\"choice_{{i}} ion-text-wrap\\\"> {{choice.text}} </ion-label> \\n      <ion-checkbox slot=\\\"start\\\" [(ngModel)]='feedback.checked[i]'  color=\\\"secondary\\\"></ion-checkbox>\\n    </ion-item>\\n  </section> \\n</section>\\n</ion-content>\\n\\n<!--   =========================================    QUIZ   OK BUTTON       ngIf e && firs_respons eklersen ikinci cevap verilmez  -->\\n<section *ngIf=\\\"message?.call_back_id==0\\\"> \\n  <ion-button (click)=\\\"sendFeedBack()\\\" expand=\\\"block\\\" fill=\\\"solid\\\">\\n    Gönder\\n  </ion-button>\\n</section>\\n<!--   =========================================    SURVEY OK BUTTON       -->\\n<section *ngIf=\\\"message?.call_back_id==4\\\"> \\n  <ion-button (click)=\\\"sendFeedBack()\\\" expand=\\\"block\\\" fill=\\\"solid\\\">\\n    Gönder\\n  </ion-button>\\n</section>\\n\\n<!--  =========================================        REPLY         =============================== -->\\n<section *ngIf=\\\"message?.call_back_id==5\\\"  id=\\\"ag-editor-area\\\">\\n  <ion-toolbar style=\\\"text-align: center;\\\">\\n    <ion-textarea rows=\\\"4\\\" [(ngModel)]=\\\"feedback.reply\\\"  maxlength=\\\"{{max_reply_length}}\\\" placeholder=\\\"Mesajınızı yazın...\\\" color=\\\"medium\\\">\\n    </ion-textarea>\\n  \\n    <ion-chip outline  color=\\\"secondary\\\"   (click)=\\\"textReply()\\\">\\n      <ion-icon name=\\\"send-outline\\\"></ion-icon> \\n    </ion-chip>\\n    <ion-chip color=\\\"light\\\" mode=\\\"ios\\\" outline=\\\"true\\\">\\n      <ion-label>{{(max_reply_length - feedback.reply.length)}} / {{max_reply_length}}</ion-label>\\n    </ion-chip>\\n  </ion-toolbar>\\n</section>\\n\\n<!--  =========================================      Yes No          =============================== -->\\n<section *ngIf=\\\"message?.call_back_id==3\\\" >\\n  <ion-toolbar style=\\\"text-align: center;\\\">\\n    <ion-chip  (click)=\\\"sendFeedBack(1)\\\" [color]=\\\"feedback?.f===1 ? 'primary' : 'default'\\\">\\n      <ion-icon name=\\\"checkmark-circle-outline\\\"></ion-icon>\\n      <ion-label>Yes</ion-label>\\n    </ion-chip> \\n    <ion-chip  (click)=\\\"sendFeedBack(-1)\\\"  [color]=\\\"feedback?.f===-1 ? 'primary' : 'default'\\\">\\n      <ion-icon name=\\\"close-circle-outline\\\"></ion-icon>\\n      <ion-label>No</ion-label>\\n    </ion-chip>   \\n  </ion-toolbar>\\n</section>\\n\\n<!--  =========================================      Like Unlike          =============================== -->\\n<section *ngIf=\\\"message?.call_back_id==1\\\">\\n  <ion-toolbar style=\\\"text-align: center;\\\">\\n    <ion-chip  (click)=\\\"sendFeedBack(1)\\\"  [color]=\\\"feedback?.f === 1 ? 'primary' : 'default'\\\">\\n      <ion-icon name=\\\"thumbs-up-outline\\\"></ion-icon> \\n    </ion-chip> \\n    <ion-chip  (click)=\\\"sendFeedBack(-1)\\\"  [color]=\\\"feedback?.f===-1 ? 'primary' : 'default'\\\">\\n      <ion-icon name=\\\"thumbs-down-outline\\\"></ion-icon> \\n    </ion-chip> \\n  </ion-toolbar>  \\n</section>\\n\\n<!--  =========================================      :)  0   :(         =============================== -->\\n\\n<section *ngIf=\\\"message?.call_back_id==2\\\" >\\n  <ion-toolbar style=\\\"text-align: center;\\\">\\n    <ion-chip  (click)=\\\"sendFeedBack(1)\\\"  [color]=\\\"feedback?.f=== 1 ? 'primary' : 'default'\\\">\\n      <ion-icon name=\\\"happy-outline\\\"></ion-icon>\\n    </ion-chip>\\n    <ion-chip  (click)=\\\"sendFeedBack(0)\\\"  [color]=\\\"feedback?.f=== 0 ? 'primary' : 'default'\\\">\\n      <ion-icon name=\\\"ellipsis-horizontal-circle-outline\\\"></ion-icon>\\n    </ion-chip>\\n    <ion-chip  (click)=\\\"sendFeedBack(-1)\\\"  [color]=\\\"feedback?.f===-1 ? 'primary' : 'default'\\\">\\n      <ion-icon name=\\\"sad-outline\\\"></ion-icon> \\n    </ion-chip> \\n  </ion-toolbar>\\n</section>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TextPage } from './text.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TextPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TextPageRoutingModule {}\n","export default \"/*\\nion-badge{\\n    margin-right: 10px;\\n}\\n\\nion-content{\\n    --padding-start: 20px;\\n    --padding-end: 20px;\\n    --padding-top: 20px;\\n    --padding-bottom: 100px;\\n    --background: url('/assets/bg.png'),beige;\\n}\\n\\nion-chip{\\n    height: 32px;\\n}\\nion-chip ion-icon{\\n    font-size: 30px;\\n}\\n\\n.message-box{\\n    font-size: 16px;\\n    display: block;\\n    background-color: #f7f7f7;\\n    padding: 20px;\\n    border-radius: 5px; \\n    margin-left: auto;\\n    margin-right: auto;\\n    text-align: justify; \\n    box-shadow:none;\\n    border:1px solid rgb(235, 230, 211);\\n}\\n\\n#ag-editor-area ion-textarea{ \\n    width: 100%;\\n    margin: 0px;\\n    padding: 10px;\\n}\\n\\nion-item{\\n    --bacground-color:#ffffff\\n}\\n\\nsection{ \\n    bottom: 0;\\n    left: 0;\\n    display: block;\\n    width: 100%;    \\n    background-color: #ffffff;\\n}\\n\\n.media-list{ \\n    background-color: transparent;\\n}\\n\\n.pasive-media{\\n    border: 1px solid #e9f1e9;\\n    border-radius: 50px;\\n    background-color: whitesmoke;\\n}\\n\\n.active-media{\\n    border: 1px solid #e9f1e9;\\n    border-radius: 50px;\\n    background-color:navajowhite\\n}\\n*/\\n.message-box {\\n  display: block;\\n  background-color: #f7f7f7;\\n  padding: 20px;\\n  border-radius: 5px;\\n  margin: 10px;\\n  margin-top: 0px;\\n  text-align: justify;\\n  box-shadow: none;\\n  border: 1px solid #ebe6d3;\\n}\\n.message-box p {\\n  font-size: 14px;\\n  line-height: 26px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3RleHQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FBQTtBQXFFQTtFQUNJLGNBQUE7RUFDQSx5QkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHlCQUFBO0FBREo7QUFJQTtFQUNJLGVBQUE7RUFDQSxpQkFBQTtBQURKIiwiZmlsZSI6InRleHQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbmlvbi1iYWRnZXtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbmlvbi1jb250ZW50e1xuICAgIC0tcGFkZGluZy1zdGFydDogMjBweDtcbiAgICAtLXBhZGRpbmctZW5kOiAyMHB4O1xuICAgIC0tcGFkZGluZy10b3A6IDIwcHg7XG4gICAgLS1wYWRkaW5nLWJvdHRvbTogMTAwcHg7XG4gICAgLS1iYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvYmcucG5nJyksYmVpZ2U7XG59XG5cbmlvbi1jaGlwe1xuICAgIGhlaWdodDogMzJweDtcbn1cbmlvbi1jaGlwIGlvbi1pY29ue1xuICAgIGZvbnQtc2l6ZTogMzBweDtcbn1cblxuLm1lc3NhZ2UtYm94e1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4OyBcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgdGV4dC1hbGlnbjoganVzdGlmeTsgXG4gICAgYm94LXNoYWRvdzpub25lO1xuICAgIGJvcmRlcjoxcHggc29saWQgcmdiKDIzNSwgMjMwLCAyMTEpO1xufVxuXG4jYWctZWRpdG9yLWFyZWEgaW9uLXRleHRhcmVheyBcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IDBweDtcbiAgICBwYWRkaW5nOiAxMHB4O1xufVxuXG5pb24taXRlbXtcbiAgICAtLWJhY2dyb3VuZC1jb2xvcjojZmZmZmZmXG59XG5cbnNlY3Rpb257IFxuICAgIGJvdHRvbTogMDtcbiAgICBsZWZ0OiAwO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiAxMDAlOyAgICBcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xufVxuXG4ubWVkaWEtbGlzdHsgXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbi5wYXNpdmUtbWVkaWF7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2U5ZjFlOTtcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlc21va2U7XG59XG5cbi5hY3RpdmUtbWVkaWF7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2U5ZjFlOTtcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6bmF2YWpvd2hpdGVcbn1cbiovXG5cblxuLm1lc3NhZ2UtYm94eyBcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4OyBcbiAgICBtYXJnaW46MTBweDtcbiAgICBtYXJnaW4tdG9wOiAwcHg7XG4gICAgdGV4dC1hbGlnbjoganVzdGlmeTsgXG4gICAgYm94LXNoYWRvdzpub25lO1xuICAgIGJvcmRlcjoxcHggc29saWQgcmdiKDIzNSwgMjMwLCAyMTEpO1xufVxuXG4ubWVzc2FnZS1ib3ggcCB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyNnB4O1xufSJdfQ== */\";","\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FeedBack, MediaFile, Message } from 'src/app/objects/message.model';\nimport { MessageService } from 'src/app/services/message.service';\nimport { Location } from '@angular/common';\nimport { LoadingController, NavController, Platform } from '@ionic/angular';\nimport { UrlService } from 'src/app/services/url.service';\nimport { ToastController } from '@ionic/angular';\n@Component({\n  selector: 'app-text',\n  templateUrl: './text.page.html',\n  styleUrls: ['./text.page.scss'],\n})\nexport class TextPage implements OnInit {\n  cid: any;\n  mid: any;\n  message: Message;\n  feedback :FeedBack = new FeedBack();\n  firs_respons: boolean = true;\n  image_input_files:File[]=[];\n  media_input_files:File[]=[];\n  previousUrl: string = '';\n  backBtnSub: any;\n  max_reply_length:number = 300;\n  now_played_file: MediaFile;\n  video: HTMLVideoElement;\n\n  constructor(\n    private navCtrl: NavController,\n    private toastController:ToastController,\n    private loadingController:LoadingController,\n    private messageService:MessageService,\n    public router: Router,\n    public location:Location,\n    private urlService: UrlService,\n    private platform:Platform,\n    private route: ActivatedRoute) {\n      this.route.queryParams.subscribe(params => {\n        if (this.router.getCurrentNavigation().extras.state){ \n          this.message            = this.router.getCurrentNavigation().extras.state.message;\n          this.message.text       = this.message.text.replace(/<[^>]*>/g, '');\n          this.message.text       = this.linkify(this.message.text);\n          this.image_input_files  = this.router.getCurrentNavigation().extras.state.image_input_files;\n          this.media_input_files  = this.router.getCurrentNavigation().extras.state.media_input_files;\n        }\n      });\n    }\n  \n  ionViewWillEnter(){\n    /*this.backBtnSub = this.platform.backButton.subscribe(() => {   \n      window.location.href =\"/home\"\n      return false;\n    });*/\n  }\n\n  async ngOnInit() { \n    this.urlService.previousUrl$.subscribe((previousUrl: string) => {\n        this.previousUrl = previousUrl\n    }); \n        \n    this.cid  = this.route.snapshot.paramMap.get('cid')\n    this.mid  = this.route.snapshot.paramMap.get('mid')\n\n    if(!this.message){\n      const loading = await this.loadingController.create({ \n        message: 'Please wait...',\n        duration:5000,\n      });\n      await loading.present();\n      this.messageService.getMessageById(this.cid,this.mid).get().subscribe(async (snapshot)=>{\n        this.message            = <Message>snapshot.data();\n        this.message.text       = this.message.text.replace(/<[^>]*>/g, '');\n        this.message.text       = this.linkify(this.message.text);\n\n        await loading.dismiss();\n      })\n    }\n    \n    this.getFeedBack();\n  }\n\n\n  linkify(text) {\n    var urlRegex =/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig;\n    return text.replace(urlRegex, function(url) {\n        return '<a href=\"' + url + '\">' + url + '</a>';\n    });\n  }\n\n  getFeedBack(){ \n    this.messageService.getFeedBackByUID(this.mid,this.cid).then(snapshot=>{\n      if(snapshot.data()!==undefined){\n        this.feedback = snapshot.data();\n        this.firs_respons = false;\n      }else{\n        let feedback = new FeedBack()\n        if(this.message.call_back_id == 4 || this.message.call_back_id == 0){\n          this.message.choices.forEach((v:any,i:number)=>{\n            feedback.checked[i] = false;\n          })\n        }\n        this.messageService.sendFeedBack(feedback,this.cid,this.mid) \n      }\n    })\n  }\n\n  textReply(){ \n    this.messageService.sendFeedBack(this.feedback,this.cid,this.mid).then(async ()=>{\n      if(this.message.call_back_id==5){\n        this.feedback.reply ='';\n      }\n      const toast = await this.toastController.create({\n        color: 'dark',\n        message: 'Cevabınız gönderildi, dilerseniz düzenleyebilirsiniz.',\n        duration: 2000\n      });\n      toast.present();\n    }) \n  }\n\n  sendFeedBack(f:number=null){ \n    let respose_exist:boolean= false\n    this.feedback.f = f; \n    if(this.message.call_back_id==4 || this.message.call_back_id==0){\n      this.message.choices.forEach((v:any,i:number)=>{\n        if(this.feedback.checked[i] == null){\n          this.feedback.checked[i] = false;\n        }\n        if(v['correct']){\n          document.getElementsByClassName('choice_'+i)[0].parentElement.setAttribute('color','success')\n        }\n      }) \n    }    \n    \n    if(this.message.call_back_id==0){\n      this.feedback.checked.forEach((v:any,i:number)=>{ \n        if(this.feedback.checked[i]==true){\n          respose_exist = true\n        }\n      })\n    }  \n    this.messageService.sendFeedBack(this.feedback,this.cid,this.mid).then(()=>{\n      if(this.message.call_back_id==0){\n        this.firs_respons = false\n      }\n      if(this.message.call_back_id==4 || this.message.call_back_id==0){\n        this.location.back();\n      }\n    })\n  } \n\n  back(){   \n    this.location.back();\n  }\n\n  playMedia(file:MediaFile){  \n    this.now_played_file = file;\n    this.video = <HTMLVideoElement>document.getElementById('myvideo');\n    this.video.setAttribute('src',this.now_played_file.url)\n    this.video.play();\n  }\n\n  stopMedia(){ \n    this.video.pause();\n    this.video.currentTime  = 0;\n    this.now_played_file = null;\n  }\n\n  ngOnDestroy(){\n  }\n\n \n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TextPageRoutingModule } from './text-routing.module';\n\nimport { TextPage } from './text.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TextPageRoutingModule\n  ],\n  declarations: [TextPage]\n})\nexport class TextPageModule {}\n"]}