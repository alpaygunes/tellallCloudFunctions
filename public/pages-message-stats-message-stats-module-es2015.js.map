{"version":3,"sources":["./src/app/pages/message-stats/message-stats.page.ts","./src/app/pages/message-stats/message-stats-routing.module.ts","./src/app/pages/message-stats/message-stats.module.ts","./src/app/pages/message-stats/message-stats.page.scss","./src/app/pages/message-stats/message-stats.page.html"],"names":[],"mappings":"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","file":"pages-message-stats-message-stats-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { LoadingController } from '@ionic/angular'; \nimport { Message } from 'src/app/objects/message.model';\nimport { MessageService } from 'src/app/services/message.service';\nimport { Location } from '@angular/common';\n\n\n@Component({\n  selector: 'app-message-stats',\n  templateUrl: './message-stats.page.html',\n  styleUrls: ['./message-stats.page.scss'],\n})\nexport class MessageStatsPage implements OnInit {\n  message_id      : string;\n  channel_id      : string; \n  stats           : any=[];\n  message         : Message;\n  replyes         : any[]=[];\n  start_after_doc : any=null\n  noNexReplyes    : boolean= false;\n\n  constructor(  private loadingController: LoadingController,\n                public location:Location,\n                private messageService: MessageService, \n                private route:ActivatedRoute) { }\n\n  async ngOnInit() {   \n    this.message    = this.messageService.message;\n    this.message.text       = this.message.text.replace(/<[^>]*>/g, '');\n    this.message.text       = this.linkify(this.message.text);\n    this.message_id = this.route.snapshot.paramMap.get('mid');\n    this.channel_id = this.route.snapshot.paramMap.get('cid');\n    this.getStats();\n    if(this.message.call_back_id == 5){\n      this.getMessageReplyes()\n    }    \n  }\n\n  linkify(text) {\n    var urlRegex =/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig;\n    return text.replace(urlRegex, function(url) {\n        return '<a href=\"' + url + '\">' + url + '</a>';\n    });\n  }\n\n  async getStats(){   \n    let loading = await this.loadingController.create({ \n      message: 'Please wait...',\n      duration:5000\n    });\n    await loading.present();\n    this.messageService.getMessageStats(this.message_id,this.channel_id).snapshotChanges().subscribe(async data => { \n      \n      this.stats       = data.payload.data();\n      await loading.dismiss();\n      if(this.message.call_back_id == 4 || this.message.call_back_id == 0){ \n        this.message.choices.forEach((chckt,i)=>{\n          chckt['stats'] = this.stats['chckt_'+i]\n        })\n      }else if(this.message.call_back_id == 2){\n        \n      }\n    })\n  }\n  \n  private limit:number = 20;\n  async getMessageReplyes(){    \n    let loading = await this.loadingController.create({ \n          message: 'Please wait...',\n          duration:5000\n        });\n        loading.present();     \n    \n      this.messageService.getMessageReplyes(this.message_id,this.channel_id,this.start_after_doc,this.limit).snapshotChanges().subscribe((data)=>{\n        loading.dismiss();\n        if(data.length){          \n          data.map(e => {\n            if(e.payload.doc.id != 'stats'){\n              this.replyes.push( {\n                id:e.payload.doc.id,\n                reply: e.payload.doc.data()['reply'],\n                username: e.payload.doc.data()['username'],\n                uid: e.payload.doc.data()['uid'],  \n              });\n            }\n          })\n          this.start_after_doc = data[data.length-1].payload.doc; \n          if(data.length<this.limit){\n            this.noNexReplyes = true\n          }\n        }           \n      }) \n  }\n\n  back(){\n    this.location.back();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MessageStatsPage } from './message-stats.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MessageStatsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MessageStatsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MessageStatsPageRoutingModule } from './message-stats-routing.module';\n\nimport { MessageStatsPage } from './message-stats.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MessageStatsPageRoutingModule\n  ],\n  declarations: [MessageStatsPage]\n})\nexport class MessageStatsPageModule {}\n","export default \"/*\\nion-content{\\n    --padding-start: 20px;\\n    --padding-end: 20px;  \\n    --background: url('/assets/bg.png'),beige;\\n}\\n\\nion-card{\\n    box-shadow:none;\\n    border:1px solid rgb(235, 230, 211);\\n}\\n*/\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL21lc3NhZ2Utc3RhdHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztDQUFBIiwiZmlsZSI6Im1lc3NhZ2Utc3RhdHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbmlvbi1jb250ZW50e1xuICAgIC0tcGFkZGluZy1zdGFydDogMjBweDtcbiAgICAtLXBhZGRpbmctZW5kOiAyMHB4OyAgXG4gICAgLS1iYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvYmcucG5nJyksYmVpZ2U7XG59XG5cbmlvbi1jYXJke1xuICAgIGJveC1zaGFkb3c6bm9uZTtcbiAgICBib3JkZXI6MXB4IHNvbGlkIHJnYigyMzUsIDIzMCwgMjExKTtcbn1cbiovIl19 */\";","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>  \\n    <ion-title>Ä°statistikleri</ion-title>\\n    <ion-buttons slot=\\\"start\\\" (click)=\\\"back()\\\">\\n      <ion-icon name=\\\"chevron-back-outline\\\"  ></ion-icon>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card  >\\n    <ion-card-header>\\n      <p color=\\\"medium\\\" [innerHTML]=\\\"message.text\\\"></p>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <section *ngIf=\\\"message.call_back_id==4 || message.call_back_id==0\\\">\\n        <ion-item *ngFor=\\\"let choice of message.choices\\\" class=\\\"ion-text-wrap\\\">\\n          <ion-icon  *ngIf=\\\"choice.correct\\\"  color=\\\"success\\\" name=\\\"add\\\"></ion-icon>\\n          <ion-label color=\\\"medium\\\" class=\\\"ion-text-wrap\\\">{{choice.text}}</ion-label>\\n          <ion-badge color=\\\"primary\\\">{{choice.stats}}</ion-badge>\\n        </ion-item>\\n      </section>\\n\\n      <section *ngIf=\\\"message.call_back_id==1\\\">\\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon slot=\\\"start\\\"  name=\\\"thumbs-up-outline\\\"></ion-icon>\\n          <ion-label color=\\\"primary\\\">{{stats.Y}}</ion-label>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon slot=\\\"start\\\"  name=\\\"thumbs-down-outline\\\"></ion-icon> \\n          <ion-label color=\\\"primary\\\">{{stats.N}}</ion-label>\\n        </ion-item>   \\n      </section>\\n\\n      <section *ngIf=\\\"message.call_back_id==2\\\">\\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon slot=\\\"start\\\"  name=\\\"happy-outline\\\"></ion-icon>\\n          <ion-label color=\\\"primary\\\">{{stats.Y}}</ion-label>\\n        </ion-item> \\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon slot=\\\"start\\\"  name=\\\"ellipsis-horizontal-circle-outline\\\"></ion-icon>\\n          <ion-label color=\\\"primary\\\">{{stats.Z}}</ion-label>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon slot=\\\"start\\\"  name=\\\"sad-outline\\\"></ion-icon> \\n          <ion-label color=\\\"primary\\\">{{stats.N}}</ion-label>\\n        </ion-item>\\n      </section>\\n\\n      <section *ngIf=\\\"message.call_back_id==3\\\">\\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon slot=\\\"start\\\"  name=\\\"checkmark-circle-outline\\\"></ion-icon>\\n          <ion-label color=\\\"primary\\\">{{stats.Y}}</ion-label>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon slot=\\\"start\\\"  name=\\\"close-circle-outline\\\"></ion-icon> \\n          <ion-label color=\\\"primary\\\">{{stats.N}}</ion-label>\\n        </ion-item>   \\n      </section>\\n    </ion-card-content>\\n    <ion-item>\\n      <ion-icon  slot=\\\"end\\\" name=\\\"eye-outline\\\" ></ion-icon>\\n      <ion-badge slot=\\\"end\\\" color=\\\"light\\\"  >{{stats.doccount}}</ion-badge>  \\n    </ion-item>\\n  </ion-card>\\n\\n  <section *ngIf=\\\"message.call_back_id==5\\\">\\n    <div *ngFor=\\\"let reply of replyes\\\" class=\\\"ion-text-wrap\\\">\\n      <ion-card  *ngIf=\\\"reply.id.length > 10 \\\"> <!-- stats doc unu geÃ§mek iÃ§in-->\\n        <ion-card-header> \\n          <small >{{reply.username}}</small> \\n        </ion-card-header>\\n        <ion-card-content>\\n          <ion-label color=\\\"medium\\\" >{{reply.reply}}</ion-label>\\n        </ion-card-content>\\n      </ion-card>\\n    </div>\\n\\n    <ion-button (click)=\\\"getMessageReplyes()\\\" *ngIf=\\\"!noNexReplyes\\\" expand=\\\"block\\\" color=\\\"medium\\\">\\n      Sonraki Cevaplar\\n    </ion-button>\\n  </section>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}