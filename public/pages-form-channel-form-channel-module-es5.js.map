{"version":3,"sources":["webpack:///src/app/pages/form-channel/form-channel.page.html","webpack:///src/app/pages/form-channel/form-channel-routing.module.ts","webpack:///src/app/pages/form-channel/form-channel.page.ts","webpack:///src/app/pages/form-channel/form-channel.page.scss","webpack:///src/app/pages/form-channel/form-channel.module.ts"],"names":["routes","path","component","FormChannelPageRoutingModule","imports","forChild","exports","FormChannelPage","route","authService","toastController","router","location","alertController","loadingController","channelService","channel","scret","announceTypes","shippingTypeKeys","Object","keys","shippingType","description_length","imageChangedEvent","agCropperClose","USER","uid","channel_id","snapshot","paramMap","get","showChannelInfo","getChannelInfo","collection","doc","valueChanges","subscribe","data","id","old_announce_type","announce_type","BU","fileEl","document","getElementById","addEventListener","event","currentTarget","length","click","error","ChannelName","nativeElement","style","border","Description","borderColor","channel_name","replace","trim","description","yOffset","offsetTop","content","scrollToPoint","alert","password","with_password","create","message","loading","cssClass","buttons","text","role","handler","blah","console","log","present","removeChannelMessages","save","saveChannel","then","dismiss","color","duration","toast","navigate","keyCode","confirmation_required","flash","registered_users_only","shipping_type","logo","base64","back","read","selector","template","FormChannelPageModule","declarations"],"mappings":"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","file":"pages-form-channel-form-channel-module-es5.js","sourcesContent":["export default \"\\n  <ion-toolbar>\\n    <ion-tabs>\\n      <ion-tab-bar slot=\\\"top\\\">\\n        <ion-button  fill=\\\"clear\\\" size=\\\"small\\\"  (click)=\\\"back()\\\" *ngIf=\\\"agCropperClose\\\">\\n          <ion-icon name=\\\"chevron-back-outline\\\" ></ion-icon>\\n        </ion-button>\\n        <ion-title >Kanal Düzenle</ion-title>\\n        <ion-tab-button (click)=\\\"agCropperClose=true\\\" *ngIf=\\\"!agCropperClose\\\">\\n          <ion-icon name=\\\"close-outline\\\" ></ion-icon>\\n        </ion-tab-button>\\n      </ion-tab-bar>\\n    </ion-tabs>\\n  </ion-toolbar>  \\n\\n<ion-content #content>\\n\\n  <image-cropper *ngIf=\\\"!agCropperClose\\\"\\n    [imageChangedEvent]=\\\"imageChangedEvent\\\"\\n    [maintainAspectRatio]=\\\"true\\\"\\n    [aspectRatio]=\\\"9 / 3\\\"\\n    [resizeToWidth]=\\\"512\\\"\\n    backgroundColor=#000000\\n    format=\\\"png\\\"\\n    (imageCropped)=\\\"imageCropped($event)\\\"\\n    (imageLoaded)=\\\"imageLoaded()\\\"\\n    (cropperReady)=\\\"cropperReady()\\\"\\n    (loadImageFailed)=\\\"loadImageFailed()\\\">\\n  </image-cropper>\\n\\n  <div *ngIf=\\\"agCropperClose\\\">\\n    <ion-grid fixed> \\n      <ion-row (click)=\\\"openFileCtrl()\\\" justify-content-start align-items-start>\\n        <ion-col size=\\\"12\\\">  \\n            <img [src]=\\\"channel.logo\\\" style=\\\"max-height: 300px;margin-left: auto;margin-right: auto;display: block;\\\" /> \\n          <ion-input type=\\\"hidden\\\" [(ngModel)]=\\\"channel.logo\\\"></ion-input> \\n        </ion-col>     \\n      </ion-row> \\n      <input type=\\\"file\\\" style=\\\"display: none;\\\" accept=\\\"image/x-png,image/gif,image/jpeg\\\" id=\\\"file-ctrl\\\"> \\n\\n      <ion-row >\\n        <ion-col size=\\\"12\\\" style=\\\"text-align: center;\\\">\\n          <p style=\\\"width: 100%;\\\">Harika bir logo ekleye bilirsiniz</p> \\n        </ion-col>\\n      </ion-row>\\n    \\n      <div style=\\\"margin-top: 40px; width: 100%; display: block;\\\" ></div>\\n      <!--- /////////////////////////   KANAL ADI ///////////////////////-->\\n      <ion-row>\\n        <ion-col size=\\\"1\\\">\\n          <ion-icon   name=\\\"bookmark-outline\\\"></ion-icon>\\n        </ion-col>\\n        <ion-col size=\\\"10\\\">\\n          <ion-label position=\\\"stacked\\\" color=\\\"medium\\\">Kanal Adı</ion-label>\\n        </ion-col> \\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input #ChannelName type=\\\"text\\\" placeholder=\\\"Kanal Adı\\\"  [(ngModel)]=\\\"channel.channel_name\\\" > </ion-input>\\n        </ion-col>\\n      </ion-row>\\n        \\n\\n      <div style=\\\"margin-top: 40px; width: 100%; display: block;\\\" ></div>\\n      <!--- /////////////////////////   AÇIKLAMA ///////////////////////-->\\n      <div id=\\\"anchor\\\"></div>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label position=\\\"stacked\\\" color=\\\"medium\\\">Açıklama {{(description_length - channel.description.length)}} karakter</ion-label>\\n        </ion-col>\\n      </ion-row> \\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-textarea #Description id=\\\"kanal-aciklamasi\\\" rows=\\\"3\\\" maxlength=\\\"{{description_length}}\\\" color=\\\"medium\\\" [(ngModel)]=\\\"channel.description\\\" placeholder=\\\"Kanalızın amacı hakkında kısa açıklama yazın\\\"></ion-textarea>\\n        </ion-col>\\n      </ion-row>\\n  \\n  \\n      <div style=\\\"margin-top: 40px; width: 100%; display: block;\\\" ></div> \\n      <!--- /////////////////////////   PAROLA  ///////////////////////-->\\n      <ion-row>\\n        <ion-col size=\\\"1\\\"><ion-icon name=\\\"key-outline\\\"></ion-icon></ion-col>\\n        <ion-col size=\\\"11\\\"><ion-label position=\\\"stacked\\\" color=\\\"medium\\\">Parola</ion-label></ion-col>\\n      </ion-row> \\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input type=\\\"text\\\" (keydown)=\\\"onPasswordChange($event)\\\"   placeholder=\\\"Parola boş olabilir\\\" [(ngModel)]=\\\"scret.password\\\"></ion-input>\\n        </ion-col>\\n      </ion-row> \\n      <ion-item lines=\\\"none\\\">\\n        <ion-note>Parola seçerseniz, kullanıcılardan bu parola istenir.</ion-note>\\n      </ion-item>\\n\\n      <div style=\\\"margin-top: 40px; width: 100%; display: block;\\\" ></div>\\n      \\n      <!--- /////////////////////////   ONAYLI ABONELİK  ///////////////////////-->\\n      <ion-row>\\n        <ion-col size=\\\"1\\\">\\n          <ion-icon name=\\\"checkmark-done-outline\\\"></ion-icon>\\n        </ion-col>\\n        <ion-col size=\\\"10\\\">\\n          <ion-label color=\\\"medium\\\">Onaylı abonelik</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"1\\\">\\n          <ion-checkbox  checked=\\\"channel.confirmation_required\\\" (ionChange)=\\\"onChangeConfirmationReq()\\\" [(ngModel)]=\\\"channel.confirmation_required\\\" color=\\\"primary\\\" ></ion-checkbox>\\n        </ion-col>\\n      </ion-row>  \\n      <ion-item lines=\\\"none\\\">\\n        <ion-note>Abonelikler, sizin onayınızı bekler.</ion-note>\\n      </ion-item>   \\n\\n\\n      <div style=\\\"margin-top: 40px; width: 100%; display: block;\\\" ></div>\\n      <!--- /////////////////////////   KANAL TÜRÜ  ///////////////////////--> \\n      <ion-row>\\n        <ion-col size=\\\"1\\\">\\n          <ion-icon  name=\\\"flag-outline\\\" style=\\\"margin-top:12px\\\"></ion-icon>\\n        </ion-col> \\n        <ion-col size=\\\"10\\\">\\n          <ion-item lines=\\\"none\\\">\\n            <ion-label color=\\\"medium\\\">Kanal Türü</ion-label>\\n            <ion-select #AnnounceType multiple=\\\"false\\\" [(ngModel)]=\\\"channel.announce_type\\\" \\n                        ok-text=\\\"Tamam\\\" cancel-text=\\\"İptal\\\" (ionChange)=\\\"onChangeAnnounceType()\\\">\\n              <ion-select-option *ngFor=\\\"let atype of announceTypes.announce_types\\\" value=\\\"{{atype.value}}\\\">{{atype.name}}</ion-select-option> \\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-note>Mesajlarınıza en uygun olanı seçmelisiniz. Farklı mesaj türleri için farklı kanallar oluşturabilirsiniz.</ion-note>\\n      </ion-item> \\n\\n      <!--- /////////////////////////   FOOD DRİNK İÇİN SERVİS TÜRÜ  ///////////////////////--> \\n      <ion-row *ngIf=\\\"channel.announce_type == 'food_drink_menu'\\\">\\n        <ion-col size=\\\"1\\\">\\n          <ion-icon name=\\\"cafe-outline\\\"></ion-icon>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n          <ion-label color=\\\"medium\\\" >Servis Türü</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"7\\\">\\n          <ion-select [(ngModel)]=\\\"channel.shipping_type\\\" multiple=\\\"false\\\" placeholder=\\\"Servis türünü seçin\\\">\\n            <ion-select-option *ngFor=\\\"let item of shippingTypeKeys\\\" value=\\\"{{item}}\\\">{{shippingType[item]}}</ion-select-option> \\n          </ion-select>\\n        </ion-col>\\n      </ion-row> \\n      <ion-item lines=\\\"none\\\" *ngIf=\\\"channel.announce_type == 'food_drink_menu'\\\">\\n        <ion-note>Yemek ve içecekleri servis edecekmisiniz ?</ion-note>\\n      </ion-item> \\n\\n\\n\\n\\n      <div style=\\\"margin-top: 40px; width: 100%; display: block;\\\" ></div>\\n      <!--- /////////////////////////  FLASH  ///////////////////////-->\\n      <ion-row *ngIf=\\\"!channel.confirmation_required\\\">\\n        <ion-col size=\\\"1\\\">\\n          <ion-icon  name=\\\"flash-outline\\\"></ion-icon>\\n        </ion-col>\\n        <ion-col size=\\\"10\\\">\\n          <ion-label color=\\\"medium\\\">Flash</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"1\\\">\\n          <ion-checkbox  checked=\\\"channel.flash\\\" (ionChange)=\\\"onChangeFlash()\\\" [(ngModel)]=\\\"channel.flash\\\" color=\\\"primary\\\" ></ion-checkbox>\\n        </ion-col>\\n      </ion-row> \\n      <ion-item *ngIf=\\\"!channel.confirmation_required\\\" lines=\\\"none\\\"> \\n        <ion-note> Flash kanal içerikleri QR kod ile paylaşılabilir Her içerik için ayrı bir QRkod oluşturulur. Kanala abonelik olmaz. \\n          </ion-note>\\n      </ion-item>\\n\\n\\n      <!--- /////////////////////////   SADECE HESABI OLAN KULLANICILAR  ///////////////////////-->\\n      <ion-row *ngIf=\\\"channel.flash && !channel.confirmation_required\\\">\\n        <ion-col size=\\\"1\\\">\\n          <ion-icon   name=\\\"lock-closed-outline\\\"></ion-icon>\\n        </ion-col>\\n        <ion-col size=\\\"10\\\">\\n          <ion-label    color=\\\"medium\\\"> Sadece hesabı olan kullanıcılar</ion-label>\\n        </ion-col>\\n        <ion-col size=\\\"1\\\">\\n          <ion-checkbox color=\\\"primary\\\" checked=\\\"channel.registered_users_only\\\" [(ngModel)]=\\\"channel.registered_users_only\\\"></ion-checkbox>\\n        </ion-col>\\n      </ion-row>\\n      <ion-item lines=\\\"none\\\" *ngIf=\\\"channel.flash && !channel.confirmation_required\\\">\\n        <ion-note>Flash mesajlarınızı  sadece hesabı olanlar görebilir</ion-note>\\n      </ion-item> \\n\\n    </ion-grid>\\n \\n  </div>\\n\\n  <!-- ------------------------  KAYDET BUTTONU ----------------------- -->\\n  <ion-toolbar *ngIf=\\\"agCropperClose\\\" button>\\n    <ion-tabs> \\n      <ion-button (click)=\\\"saveChannel()\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\n        Kaydet\\n      </ion-button>  \\n    </ion-tabs>\\n  </ion-toolbar>\\n\\n</ion-content>\\n\\n\\n<!-- ------------------------  KIRPMAYI BİTİR BUTTONU ----------------------- -->\\n<ion-toolbar *ngIf=\\\"!agCropperClose\\\" button>\\n  <ion-tabs  (click)=\\\"kirp()\\\"> \\n    <ion-button  expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\n      <ion-icon slot=\\\"start\\\"  name=\\\"crop-outline\\\"></ion-icon>  \\n      Kırp\\n    </ion-button> \\n  </ion-tabs>\\n</ion-toolbar>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FormChannelPage } from './form-channel.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FormChannelPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FormChannelPageRoutingModule {}\n","import { Component,  OnInit } from '@angular/core';\nimport { ChannelService} from 'src/app/services/channel.service'\nimport { ImageCroppedEvent } from 'ngx-image-cropper';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AnnounceTypes, Channel,Scret, ShippingType } from 'src/app/objects/channel.model';\nimport { AuthService } from 'src/app/services/auth.service'\nimport { ElementRef, ViewChild} from '@angular/core'; \nimport { Location } from '@angular/common';\nimport { LoadingController, ToastController } from '@ionic/angular';\nimport { AlertController } from '@ionic/angular'; \n\n\n@Component({\n  selector: 'app-form-channel',\n  templateUrl: './form-channel.page.html',\n  styleUrls: ['./form-channel.page.scss']\n})\nexport class FormChannelPage implements OnInit { \n  public fileEl : HTMLInputElement; \n  public  channel:Channel             = new Channel();  \n  public scret:Scret                 = new Scret();   \n  public old_announce_type:string;\n  public announceTypes:AnnounceTypes = new AnnounceTypes(); \n  public shippingTypeKeys            = Object.keys(ShippingType);\n  public shippingType:any            = ShippingType;\n  public description_length:number          = 120; \n  @ViewChild('content') public content: any;\n\n  @ViewChild('ChannelName',{ read: ElementRef }) ChannelName: ElementRef;\n  @ViewChild('Description',{ read: ElementRef }) Description: ElementRef;\n\n  constructor(  public route: ActivatedRoute,\n                public authService: AuthService,\n                private toastController:ToastController,\n                public router:Router, \n                public location:Location, \n                private alertController:AlertController,\n                private loadingController: LoadingController,\n                private channelService: ChannelService) {\n                }\n\n  ngOnInit() { \n    if(this.authService.USER){ this.scret.uid = this.authService.USER.uid }\n    let channel_id = this.route.snapshot.paramMap.get('id') \n    if(channel_id) this.showChannelInfo(channel_id);\n  }\n\n  showChannelInfo(channel_id:string){\n    this.channelService.getChannelInfo(channel_id).collection('screts').doc('scret_fields').valueChanges()\n              .subscribe(data=>{\n                this.scret = <Scret>data;\n              }); \n    this.channelService.getChannelInfo(channel_id).valueChanges()\n    .subscribe(data=>{\n      if(data){\n        data.id = channel_id;\n        this.channel = <Channel>data;\n        this.old_announce_type = this.channel.announce_type;\n      }\n    });\n  }\n \n  ngAfterViewInit(){\n    let BU      = this\n    this.fileEl = (document.getElementById('file-ctrl') as HTMLInputElement)\n    this.fileEl.addEventListener('change',(event)=>{\n      BU.imageChangedEvent  = event; \n      if(event.currentTarget['files'].length) this.agCropperClose   = false;\n      \n    })\n  }\n\n  openFileCtrl(){\n    this.fileEl.click(); \n  }\n\n  async saveChannel(){ \n    let error:boolean = false;\n    this.ChannelName.nativeElement.style.border =\"0px solid #e7e7e7\"\n    this.Description.nativeElement.style.borderColor = \"#e7e7e7\" \n    if((this.channel.channel_name.replace(/\\s/g, \"\")).length <3 ){  \n      this.ChannelName.nativeElement.style.border =\"1px solid #FF0000\"\n      error = true;\n    } \n    this.channel.channel_name = this.channel.channel_name.trim();\n\n    if((this.channel.description.replace(/\\s/g, \"\")).length < 4 ){\n      this.Description.nativeElement.style.borderColor =\"red\"\n      let yOffset = document.getElementById(\"anchor\").offsetTop ;\n      this.content.scrollToPoint(0, yOffset, 1000)\n      error = true;\n    } \n\n    if(this.channel.description.length >120 ){\n      alert(\"Kanal amacını en falza 120 karater olmalı\")\n      this.Description.nativeElement.style.borderColor =\"red\"\n      error = true;\n    }\n \n    if(this.scret.uid == ''){\n      alert(\"Kullanıcı bilgileri alınmadığından kaydedilmedi. Sonra tekrar deneyin\")\n      error = true;\n    }\n \n    if(this.scret.password !== null && this.scret.password !== \"\"){\n      this.scret.password = this.scret.password.replace(/\\s/g, \"\");\n      this.channel.with_password = true\n    }else{\n      this.scret.uid=this.scret.uid?this.scret.uid:\"\"\n    }\n \n    if(error)return;  \n    \n    const loading = await this.loadingController.create({ \n            message: 'Please wait...'\n          });  \n    if(this.channel.id && (this.channel.announce_type!=this.old_announce_type)){ \n      const alert = await this.alertController.create({\n        cssClass: 'my-custom-class',\n        //header: 'Onaylıyor musunuz?',\n        message: 'Kanal türünü değiştridiniz. Eski mesajlarınız silinecek.',\n        buttons: [\n          {\n            text: 'Vazgeç',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: (blah) => {\n              console.log('Confirm Cancel: blah');\n            }\n          }, {\n            text: 'Sil',\n            handler: async () => {\n              await loading.present();\n              let channel_id = this.channel.id;\n              this.channelService.removeChannelMessages(channel_id)\n              let save = this.channelService.saveChannel(this.channel,this.scret)\n              save.then(async()=>{\n                await loading.dismiss();\n                const toast = await this.toastController.create({\n                  color: 'success',\n                  message: 'Kanal oluşturuldu.',\n                  duration: 2000\n                });\n                toast.present();\n                this.router.navigate(['/my-channels']); \n              }).catch(async ()=>{ \n                const toast = await this.toastController.create({\n                  color: 'danger',\n                  message: 'Kanal oluşturulurken sorun çıktı.',\n                  duration: 2000\n                });\n                await toast.present();\n              })\n            }\n          }\n        ]\n      });\n      await alert.present();\n    }else{\n      await loading.present(); \n      let save = this.channelService.saveChannel(this.channel,this.scret)\n      save.then(async()=>{  \n        await loading.dismiss();\n        const toast = await this.toastController.create({\n          color: 'success',\n          message: 'Kanal oluşturuldu.',\n          duration: 2000\n        });\n        toast.present();\n        this.router.navigate(['/my-channels']); \n      }).catch(async ()=>{ \n        const toast = await this.toastController.create({\n          color: 'danger',\n          message: 'Kanal oluşturulurken sorun çıktı.',\n          duration: 2000\n        });\n        await toast.present();\n      })\n    }  \n  }\n \n  onPasswordChange(event: { keyCode: number; }){\n    if(event.keyCode == 32){\n      return false;\n    } \n  }\n\n  onChangeConfirmationReq(){ \n    if(!this.channel.confirmation_required){\n      this.channel.flash = false; \n      this.channel.registered_users_only = false; \n    }\n  }\n\n  onChangeFlash(){\n    if(!this.channel.flash){\n      this.channel.registered_users_only = false; \n    }\n  }\n\n  onChangeAnnounceType(){ \n    if(this.channel.announce_type != 'food_drink_menu'){\n      this.channel.shipping_type = <ShippingType>'NO_SERVICE';\n    }\n  }\n\n\n\n\n \n  //----------------------------------------------      I m a g e C r o p     --------\n  kirp(){\n    this.imageChangedEvent  = false;\n    this.agCropperClose     = true;\n  }\n\n  imageChangedEvent : any        = ''; \n  agCropperClose    : boolean    = true; \n  imageCropped(event: ImageCroppedEvent) {\n      this.agCropperClose         = false\n      this.channel.logo           = event.base64;  \n  }\n\n  imageLoaded() {\n      // show cropper\n  }\n\n  cropperReady() {\n      // cropper ready\n  }\n\n  loadImageFailed() {\n      // show message\n  }\n\n  back(){\n    this.location.back();\n  }\n  //---------------------------------------------         E N D  I m a g e C r o p       --------\n\n\n\n\n\n\n\n\n}\n","export default \"/*\\n#kanal-aciklamasi{\\n    border: 1px solid ;\\n    padding: 10px;\\n    border-radius: 5px;\\n    margin-top: 10px;\\n    margin-bottom: 10px;\\n}\\n*/\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2Zvcm0tY2hhbm5lbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7Ozs7Ozs7O0NBQUEiLCJmaWxlIjoiZm9ybS1jaGFubmVsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiBcbi8qXG4ja2FuYWwtYWNpa2xhbWFzaXtcbiAgICBib3JkZXI6IDFweCBzb2xpZCA7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuKi9cblxuICJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\nimport { FormChannelPageRoutingModule } from './form-channel-routing.module';\nimport { FormChannelPage } from './form-channel.page';\n\nimport { ImageCropperModule } from 'ngx-image-cropper';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FormChannelPageRoutingModule,\n    ReactiveFormsModule,\n    ImageCropperModule\n  ],\n  declarations: [FormChannelPage]\n})\nexport class FormChannelPageModule {}\n"]}