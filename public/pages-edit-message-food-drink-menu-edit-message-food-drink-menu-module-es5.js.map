{"version":3,"sources":["webpack:///src/app/pages/edit-message-food-drink-menu/edit-message-food-drink-menu.page.ts","webpack:///src/app/pages/edit-message-food-drink-menu/edit-message-food-drink-menu.page.scss","webpack:///src/app/pages/edit-message-food-drink-menu/edit-message-food-drink-menu-routing.module.ts","webpack:///src/app/pages/edit-message-food-drink-menu/edit-message-food-drink-menu.page.html","webpack:///src/app/pages/edit-message-food-drink-menu/edit-message-food-drink-menu.module.ts"],"names":["EditMessageFoodDrinkMenuPage","route","alertController","location","loadingController","authService","toastController","messageService","message","foodDrinkMenu","showedElement","isNew","description_length","showAddCategoriButtonForFirstInput","cid","snapshot","paramMap","get","mid","getMessage","getMessageById","ref","then","data","food_drink_menu","length","cat","edited_food_drink_category","id","Math","random","toString","substring","create","cssClass","buttons","text","role","handler","blah","console","log","categories","forEach","v","i","foods","d","deleteFood","splice","alert","present","page","food","edited_food","images","img","File","BU","changeHandler","event","target","files","file","reader","FileReader","readAsDataURL","onload","revent","Image","oimg","resizeCanvas","document","createElement","ctx","getContext","width","height","drawImage","base64data","toDataURL","foodImage","push","src","result","onerror","error","err","setTimeout","imgInputElm","type","setAttribute","addEventListener","click","duration","loading","uid","USER","created_at","FieldValue","serverTimestamp","saveFoodDrinkMenu","res","color","toast","dismiss","ev","detail","complete","to","from","title","trim","undefined","back","addtnls","additionals","selector","template","routes","path","component","EditMessageFoodDrinkMenuPageRoutingModule","imports","forChild","exports","EditMessageFoodDrinkMenuPageModule","declarations"],"mappings":"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","file":"pages-edit-message-food-drink-menu-edit-message-food-drink-menu-module-es5.js","sourcesContent":["import { Message } from 'src/app/objects/message.model';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AlertController, LoadingController, ToastController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { MessageService } from 'src/app/services/message.service';\nimport { Additional, FoodDrinkCategory, FoodDrinkFood, FoodDrinkImage, FoodDrinkMenu } from 'src/app/objects/food-drink-menu.model';\nimport { Location } from '@angular/common';\nimport { ItemReorderEventDetail } from '@ionic/core';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'app-edit-message-food-drink-menu',\n  templateUrl: './edit-message-food-drink-menu.page.html',\n  styleUrls: ['./edit-message-food-drink-menu.page.scss'],\n})\nexport class EditMessageFoodDrinkMenuPage implements OnInit {\n\n  cid: any;\n  mid: any;\n  message: Message = new Message();\n  foodDrinkMenu: FoodDrinkMenu = new FoodDrinkMenu();\n  showedElement:string = 'cat_list';\n  edited_food_drink_category: FoodDrinkCategory;\n  edited_food: FoodDrinkFood;\n  imgInputElm: HTMLInputElement;\n  isNew:boolean=true;\n  description_length = 300;\n  showAddCategoriButtonForFirstInput: boolean = false; // yeni menüde  Kategori Ekle düğmesi kaydedildikten sonra görünmesi için\n\n  constructor(public route: ActivatedRoute,\n              private alertController:AlertController,\n              public location:Location,\n              private loadingController:LoadingController,\n              public authService:AuthService,\n              private toastController:ToastController,\n              private messageService:MessageService,\n              ) { }\n\n  ngOnInit() {\n    this.cid  = this.route.snapshot.paramMap.get('cid');\n    this.mid  = this.route.snapshot.paramMap.get('mid');\n    this.getMessage()\n  }\n\n  getMessage(){\n    if(this.mid){\n      this.messageService.getMessageById(this.cid,this.mid).ref.get().then((snapshot)=>{\n        this.message = <Message>snapshot.data() \n        this.foodDrinkMenu = this.message.food_drink_menu; \n        this.showAddCategoriButtonForFirstInput = snapshot.data.length ?true:false ;\n      })\n    }\n  }\n\n  listFoods(cat:FoodDrinkCategory){  \n    this.edited_food_drink_category   = cat;\n    this.showedElement                = \"list_foods\"\n    this.isNew = false\n  }\n\n  addCategori(){\n    let cat                        = new FoodDrinkCategory()\n    cat.id                         = Math.random().toString(36).substring(7); \n    this.edited_food_drink_category  = cat;\n    this.showedElement             = \"edit_cat\"   \n    this.isNew = true ;\n  }\n\n  async deleteCategory(cat:FoodDrinkCategory){\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class', \n      message: 'Kategori alıcı olarak silinecek ! ',\n      buttons: [\n        {\n          text: 'Vazgeç',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, \n        {\n          text: 'Sil',\n          handler: async () => {  \n            this.foodDrinkMenu.categories.forEach(async (v,i)=>{\n              if(v.id == cat.id){\n                cat.foods.forEach((d,i)=>{\n                  this.deleteFood(d)\n                })\n                this.foodDrinkMenu.categories.splice(i, 1); \n              }\n            })\n          }\n        }\n      ]\n    });\n    await alert.present();    \n  }\n\n  editCategory(cat:FoodDrinkCategory){\n    this.edited_food_drink_category = cat;\n    this.showedElement            = \"edit_cat\"\n    this.isNew = false ;\n  }\n\n  deleteFood(page:FoodDrinkFood){ \n    this.edited_food_drink_category.foods.forEach((v,i)=>{\n      if(v.id==page.id){\n        this.edited_food_drink_category.foods.splice(i, 1);\n      }\n    }) \n  }\n\n  editFood(food:FoodDrinkFood){\n    this.edited_food        = food;\n    this.showedElement      = \"edit_food\"; \n    this.isNew = false ;\n  }\n\n  addFood(){ \n    let food                        = new FoodDrinkFood();\n    food.images                     = [];\n    food.id                         = Math.random().toString(36).substring(7);\n    food.cid                        = this.edited_food_drink_category.id; \n    this.edited_food                = food;\n    this.showedElement              = \"edit_food\";\n    this.isNew = true ;\n  }\n\n  removeImage(img:FoodDrinkImage){\n    this.edited_food.images.forEach((v,i)=>{\n      if(v.File==img.File){\n        this.edited_food.images.splice(i, 1);\n      }\n    })\n  }\n\n  addImage(){\n    let BU = this; \n    let changeHandler =function (event:any){\n      try{\n       for(let file of event.target.files) {          \n          const reader    = new FileReader();\n          reader.readAsDataURL(file);\n          reader.onload   = (revent) => {\n            const img   = new Image()\n            img.onload  = function(oimg){\n              let resizeCanvas    = document.createElement(\"canvas\");\n              var ctx             = resizeCanvas.getContext(\"2d\");\n              resizeCanvas.width  = 512;\n              resizeCanvas.height = img.height*(512/img.width);\n              ctx.drawImage(img, 0, 0, resizeCanvas.width, resizeCanvas.height); \n              const base64data  = resizeCanvas.toDataURL('image/jpeg', 0.8);\n              const foodImage   = new FoodDrinkImage();\n              foodImage.id      = Math.random().toString(36).substring(20);\n              foodImage.base64data     = base64data;\n              foodImage.File    = file;\n              BU.edited_food.images.push(foodImage)\n            }\n            img.src = <string>revent.target.result\n          };\n          reader.onerror  = error => {\n            console.error(\"Resim base64 yapılamadı \" + error)\n          };\n        }        \n      }catch(err){\n        console.error(\"Resim alınırken hata oldu \" + err)\n      }\n    }\n    setTimeout(()=>{\n      this.imgInputElm       = document.createElement('input');\n      this.imgInputElm.type  = \"file\";\n      this.imgInputElm.setAttribute(\"multiple\",\"true\");\n      this.imgInputElm.setAttribute(\"accept\",\"image/*\"); \n      this.imgInputElm.addEventListener('change',changeHandler);\n      this.imgInputElm.click();\n    },1)\n  }\n\n  async save(){ \n    const loading     = await this.loadingController.create({ \n      message: 'Please wait...',\n      duration: 10000\n    }); \n    await loading.present();    \n    this.message.food_drink_menu      = this.foodDrinkMenu\n    this.message.type                 = 'food_drink_menu';\n    this.message.uid                  = this.authService.USER.uid;\n    \n    if(!this.mid){\n      this.message.created_at         = firebase.firestore.FieldValue.serverTimestamp();\n    }else{\n      this.message.id                 = this.mid;\n    }\n     \n    this.messageService.saveFoodDrinkMenu(this.message,this.cid).then(async (res)=>{   \n      if(res) {\n        this.mid = res.id\n      }\n      const toast = await this.toastController.create({\n        color: 'success',\n        message: \"Kayıt işlemi tamamlandı\",\n        duration: 3000\n      });\n      toast.present();\n      await loading.dismiss();  \n      this.showAddCategoriButtonForFirstInput = true;\n    })\n  }\n\n  doReorderCat(ev: CustomEvent<ItemReorderEventDetail>){ \n    ev.detail.complete(true) \n    this.foodDrinkMenu.categories.splice(ev.detail.to, 0, this.foodDrinkMenu.categories.splice(ev.detail.from, 1)[0]);\n  }\n  \n  doReorderFoods(ev: CustomEvent<ItemReorderEventDetail>){\n    ev.detail.complete(true)\n    this.edited_food_drink_category.foods.splice(ev.detail.to, 0, this.edited_food_drink_category.foods.splice(ev.detail.from, 1)[0]);\n  }\n\n  showFoodList(){\n    this.showedElement='list_foods';\n    if(this.edited_food.title?.trim() != '' && this.edited_food.title !== undefined && this.isNew){\n      this.edited_food_drink_category.foods.push(this.edited_food) \n    }\n    this.isNew = false;\n  }\n\n  showCategoryList(){ \n    this.showedElement  = 'cat_list'  \n    if(this.edited_food_drink_category.title?.trim() != '' && this.edited_food_drink_category.title !== undefined && this.isNew){\n      this.foodDrinkMenu.categories.push(this.edited_food_drink_category) \n    }\n    this.isNew = false;\n  }\n\n  back(){\n    this.location.back();\n  }\n\n  additional(){ \n    const addtnls = new Additional()  \n    this.edited_food.additionals.push(addtnls)\n  }\n\n}","export default \"/*\\nion-thumbnail{\\n    display: block;\\n    float: left;\\n    padding: 7px;\\n    width: 100%;\\n    height: auto;\\n    border: 1px solid #ccc;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n*/\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2VkaXQtbWVzc2FnZS1mb29kLWRyaW5rLW1lbnUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztDQUFBIiwiZmlsZSI6ImVkaXQtbWVzc2FnZS1mb29kLWRyaW5rLW1lbnUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbmlvbi10aHVtYm5haWx7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgcGFkZGluZzogN3B4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogYXV0bztcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbn1cbiovIl19 */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditMessageFoodDrinkMenuPage } from './edit-message-food-drink-menu.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditMessageFoodDrinkMenuPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditMessageFoodDrinkMenuPageRoutingModule {}\n","export default \"<ion-toolbar>  \\n  <ion-tabs>\\n    <ion-tab-bar slot=\\\"top\\\">\\n      <ion-buttons  (click)=\\\"back()\\\" *ngIf=\\\"showedElement == 'cat_list'\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-buttons>\\n      <ion-buttons  (click)=\\\"showCategoryList()\\\" *ngIf=\\\"showedElement == 'edit_cat'\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-buttons> \\n      <ion-buttons  (click)=\\\"showCategoryList()\\\" *ngIf=\\\"showedElement == 'list_foods'\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-buttons>\\n      <ion-buttons  (click)=\\\"showFoodList()\\\" *ngIf=\\\"showedElement == 'edit_food'\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-buttons>\\n      <ion-title *ngIf=\\\"showedElement == 'edit_food'\\\" >Yemek Düzenle</ion-title>\\n      <ion-title *ngIf=\\\"showedElement == 'list_foods'\\\" >Yemek Listesi</ion-title>\\n      <ion-title *ngIf=\\\"showedElement == 'edit_cat'\\\" >Kategori Düzenle</ion-title>\\n      <ion-title *ngIf=\\\"showedElement == 'cat_list'\\\" >Menü Düzenle</ion-title>\\n    </ion-tab-bar>\\n  </ion-tabs>\\n</ion-toolbar>\\n\\n\\n<ion-content>\\n\\n  <!-- //////////////////////////     MENU ADI    ///////////////////////////   -->\\n  <section *ngIf=\\\"showedElement == 'cat_list'\\\" > \\n    <ion-grid style=\\\"margin: 10px;padding: 10px;\\\">\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label color=\\\"dark\\\">Menü Başığı</ion-label>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input type=\\\"text\\\" placeholder=\\\"Menü Başlığı\\\" [(ngModel)]='foodDrinkMenu.title'></ion-input>\\n        </ion-col>\\n      </ion-row> \\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label  color=\\\"dark\\\">Alt Başlık</ion-label>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input type=\\\"text\\\" placeholder=\\\"Menü Başlık\\\" [(ngModel)]='foodDrinkMenu.subtitle' ></ion-input>\\n        </ion-col>\\n      </ion-row> \\n    </ion-grid>\\n  </section>\\n\\n\\n  <!-- //////////////////////////  SHOW CATEGORY LİST ///////////////////////////// --> \\n  <div *ngIf=\\\"showedElement == 'cat_list' && foodDrinkMenu.categories.length\\\" style=\\\"margin-top: 50px;\\\" >\\n    <ion-header class=\\\"ion-no-border\\\">\\n      <ion-toolbar>\\n        <ion-title>İçece ve Yiyecek Kategorileri</ion-title>\\n      </ion-toolbar>\\n    </ion-header>\\n    <!-- sıradaki kategori-->\\n    <ion-reorder-group (ionItemReorder)=\\\"doReorderCat($event)\\\" disabled=\\\"false\\\"> \\n      <ion-item-sliding *ngFor=\\\"let categori of foodDrinkMenu.categories\\\">\\n        <ion-card> \\n          <ion-card-content>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-label>{{categori.title}}</ion-label>\\n              <ion-reorder slot=\\\"end\\\" ></ion-reorder>\\n            </ion-item> \\n          </ion-card-content>\\n          <ion-row>\\n            <ion-col size=\\\"2\\\"> \\n            </ion-col>\\n            <ion-col size=\\\"4\\\" (click)=\\\"deleteCategory(categori)\\\">\\n              <ion-icon   name=\\\"trash-outline\\\"></ion-icon> \\n            </ion-col>\\n            <ion-col size=\\\"4\\\" (click)=\\\"editCategory(categori)\\\">\\n              <ion-icon   name=\\\"create-outline\\\"></ion-icon> \\n            </ion-col>\\n            <ion-col size=\\\"2\\\"  (click)=\\\"listFoods(categori)\\\">\\n              <ion-icon   name=\\\"fast-food-outline\\\"></ion-icon> \\n            </ion-col>\\n            \\n          </ion-row>\\n        </ion-card>\\n      </ion-item-sliding>\\n    </ion-reorder-group><!-- sıradaki kategori END-->  \\n  </div>\\n\\n  <ion-button (click)=\\\"addCategori()\\\"  fill=\\\"clear\\\" size=\\\"small\\\" expand=\\\"full\\\" \\n              *ngIf=\\\"(foodDrinkMenu.categories.length || showAddCategoriButtonForFirstInput) && showedElement == 'cat_list'\\\"> \\n              Kategori Ekle\\n  </ion-button> \\n  \\n\\n  <!-- //////////////////////////  EDİT CATEGORY ///////////////////////////// -->\\n  <section *ngIf=\\\"showedElement == 'edit_cat'\\\" style=\\\"margin-top: 50px;\\\">\\n    <ion-grid fixed> \\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label >Kategori Başlığı</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input type=\\\"text\\\" [(ngModel)]=\\\"edited_food_drink_category.title\\\" placeholder=\\\"Kategori Adı Yazın\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n           <div style=\\\"height:20px ;\\\"> </div>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label >Kategori Alt Başlığı</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input type=\\\"text\\\" [(ngModel)]=\\\"edited_food_drink_category.subtitle\\\"  placeholder=\\\"Alt Başlık Yazın\\\"></ion-input>\\n        </ion-col>\\n      </ion-row> \\n\\n    </ion-grid>\\n  </section> \\n\\n\\n  <!-- //////////////////////////  LIST FOODS ///////////////////////////// -->\\n  <div *ngIf=\\\"showedElement == 'list_foods'\\\">\\n    <ion-item  lines=\\\"none\\\">\\n      <h3>{{edited_food_drink_category.title}}</h3>\\n    </ion-item>\\n    <ion-card>  \\n      <ion-card-content *ngIf=\\\"!edited_food_drink_category.foods.length\\\">\\n        Bu kategoride hiç yemek yok.\\n      </ion-card-content>\\n      <ion-reorder-group (ionItemReorder)=\\\"doReorderFoods($event)\\\" disabled=\\\"false\\\"> \\n        <ion-item-sliding *ngFor=\\\"let food of edited_food_drink_category.foods\\\">\\n          <ion-item (click)=\\\"editFood(food)\\\" lines=\\\"none\\\">\\n            <ion-label>{{food.title}}</ion-label>\\n            <ion-reorder slot=\\\"end\\\"></ion-reorder>  \\n          </ion-item>\\n          <ion-item-options side=\\\"start\\\">\\n            <ion-item-option color=\\\"danger\\\" (click)=\\\"deleteFood(food)\\\">Delete</ion-item-option> \\n          </ion-item-options>\\n          <ion-item-options side=\\\"end\\\">\\n            <ion-item-option color=\\\"secondary\\\" (click)=\\\"editFood(food)\\\">Edit</ion-item-option> \\n          </ion-item-options>\\n        </ion-item-sliding> \\n      </ion-reorder-group>\\n    </ion-card>\\n    <ion-button (click)=\\\"addFood()\\\"  fill=\\\"clear\\\" expand=\\\"full\\\" size=\\\"small\\\"> \\n      Yemek Ekle\\n    </ion-button> \\n  </div>\\n\\n\\n  <!-- //////////////////////////  EDİT FOODS ///////////////////////////// -->\\n  <div *ngIf=\\\"showedElement == 'edit_food'\\\"> \\n\\n    <ion-grid fixed>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label >Yemek Başlığı</ion-label>\\n        </ion-col> \\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-input type=\\\"text\\\"  [(ngModel)]=\\\"edited_food.title\\\"></ion-input>\\n        </ion-col> \\n      </ion-row>  \\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label >Yemek Alt Başlığı</ion-label>\\n        </ion-col>\\n      </ion-row> \\n      <ion-row>\\n        <ion-col size=\\\"12\\\"> \\n          <ion-input type=\\\"text\\\"  [(ngModel)]=\\\"edited_food.subtitle\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-label >Açıklama {{ (description_length - edited_food.description?.length) }} karakter</ion-label>\\n        </ion-col>\\n      </ion-row> \\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <ion-textarea rows=\\\"10\\\"  [(ngModel)]=\\\"edited_food.description\\\" maxlength=\\\"{{description_length}}\\\"></ion-textarea>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col size=\\\"12\\\"> \\n          <ion-label >Fiyat</ion-label>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\"> \\n          <ion-input type=\\\"number\\\" [(ngModel)]=\\\"edited_food.price\\\"></ion-input>\\n        </ion-col>\\n      </ion-row> \\n    </ion-grid>\\n \\n    <!--   İLAVELER   ---> \\n    <ion-grid fixed *ngIf=\\\"edited_food.additionals?.length\\\">\\n      <ion-item lines=\\\"none\\\">\\n        <h2 lines=\\\"none\\\">İlaveler</h2>\\n      </ion-item>\\n      <section *ngFor=\\\"let additional of edited_food.additionals\\\"> \\n        <ion-row >\\n          <ion-col size=\\\"12\\\">  \\n              <ion-label >Ürün adı</ion-label> \\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\"> \\n            <ion-input type=\\\"text\\\" [(ngModel)]=\\\"additional.name\\\" ></ion-input>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-label >Fiyat</ion-label>\\n          </ion-col>\\n        </ion-row> \\n        <ion-row> \\n          <ion-input type=\\\"number\\\" [(ngModel)]=\\\"additional.price\\\"></ion-input>\\n        </ion-row>\\n        <div style=\\\"height: 30px;\\\"></div>\\n      </section>\\n    </ion-grid> \\n    <!-- ------------------  resimve ilave ekleme düğmeleri -->\\n    <ion-item lines=\\\"none\\\">\\n      <ion-button  (click)=\\\"additional()\\\" fill=\\\"clear\\\" expand=\\\"full\\\" size=\\\"small\\\">  \\n        İlave Ekle\\n      </ion-button> \\n      <ion-button (click)=\\\"addImage()\\\" fill=\\\"clear\\\" expand=\\\"full\\\"  size=\\\"small\\\">  \\n        Resim Ekle\\n      </ion-button> \\n    </ion-item> \\n\\n    <!--   RESİMLER   ---> \\n    <ion-card *ngFor=\\\"let img of edited_food.images\\\"> \\n      <ion-card-content>   \\n          <img *ngIf=\\\"img.base64data\\\" src=\\\"{{img.base64data}}\\\" />\\n          <img *ngIf=\\\"img.url\\\" src=\\\"{{img.url}}\\\" />         \\n        <ion-button (click)=\\\"removeImage(img)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\n          Delete\\n        </ion-button>\\n      </ion-card-content> \\n    </ion-card>\\n  </div> <!-- //////////////////////////  EDİT FOODS END-->\\n \\n</ion-content>\\n\\n\\n\\n\\n<!--             Yemeği kaydet düğmesi                --> \\n<ion-button (click)=\\\"showFoodList()\\\"  expand=\\\"full\\\" color=\\\"secondary\\\" *ngIf=\\\"showedElement == 'edit_food'\\\">\\n  Tamam\\n</ion-button> \\n\\n<!--             kategoriyi kaydet düğmesi                --> \\n<ion-button (click)=\\\"showCategoryList()\\\" expand=\\\"full\\\" color=\\\"secondary\\\" *ngIf=\\\"showedElement == 'edit_cat'\\\">\\n  Tamam\\n</ion-button>\\n\\n<!--              menüyü kaydet düğmesi           -->\\n<ion-button *ngIf=\\\"showedElement=='cat_list'\\\" (click)=\\\"save()\\\"  expand=\\\"full\\\" color=\\\"secondary\\\">\\n  Menüyü Kaydet\\n</ion-button>\\n\\n\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditMessageFoodDrinkMenuPageRoutingModule } from './edit-message-food-drink-menu-routing.module';\n\nimport { EditMessageFoodDrinkMenuPage } from './edit-message-food-drink-menu.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EditMessageFoodDrinkMenuPageRoutingModule\n  ],\n  declarations: [EditMessageFoodDrinkMenuPage]\n})\nexport class EditMessageFoodDrinkMenuPageModule {}\n"]}